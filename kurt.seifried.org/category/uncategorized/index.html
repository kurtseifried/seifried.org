<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<title>Uncategorized | Kurt Seifried</title>
<link rel="pingback" href="http://kurt.seifried.org/xmlrpc.php"/>
<script src='https://r-login.wordpress.com/remote-login.php?action=js&amp;host=kurt.seifried.org&amp;id=86342&amp;t=1480695489&amp;back=http%3A%2F%2Fkurt.seifried.org%2Fcategory%2Funcategorized%2F' type="text/javascript"></script>
<script type="text/javascript">
		/* <![CDATA[ */
			if ( 'function' === typeof WPRemoteLogin ) {
				document.cookie = "wordpress_test_cookie=test; path=/";
				if ( document.cookie.match( /(;|^)\s*wordpress_test_cookie\=/ ) ) {
					WPRemoteLogin();
				}
			}
		/* ]]> */
		</script>
<link rel='dns-prefetch' href='//s2.wp.com'/>
<link rel='dns-prefetch' href='//s0.wp.com'/>
<link rel='dns-prefetch' href='//kurtseifried.wordpress.com'/>
<link rel='dns-prefetch' href='//s1.wp.com'/>
<link rel="alternate" type="application/rss+xml" title="Kurt Seifried &raquo; Feed" href="http://kurt.seifried.org/feed/"/>
<link rel="alternate" type="application/rss+xml" title="Kurt Seifried &raquo; Comments Feed" href="http://kurt.seifried.org/comments/feed/"/>
<link rel="alternate" type="application/rss+xml" title="Kurt Seifried &raquo; Uncategorized Category Feed" href="http://kurt.seifried.org/category/uncategorized/feed/"/>
<script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script>
<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s1.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1473172720h&ver=4.6.1-RC1-38499"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
<style type="text/css">img.wp-smiley,img.emoji{display:inline!important;border:none!important;box-shadow:none!important;height:1em!important;width:1em!important;margin:0 .07em!important;vertical-align:-0.1em!important;background:none!important;padding:0!important;}</style>
<link rel='stylesheet' id='all-css-0-1' href='https://s0.wp.com/_static/??-eJx9jUEOAiEMRS8kNphRVsazADYOA2UaCpl4e0HjSjOb5vfnvXzYWPk1V8wVqClO7RGyQAoRBRasbH1U7+/oRQ7wH/drwd4T2zoIwnuwmJA6tqcRX77WiHPf2p3ZuNPKOS4oovql0EjVuQ/9ep8auDmIzZXgI0h9Jhzgja56mrTRZ2NOywvlj2BK' type='text/css' media='all'/>
<!--[if lte IE 8]>
<link rel='stylesheet' id='kubrick-ie-css'  href='https://s0.wp.com/wp-content/themes/pub/kubrick/ie.css?m=1273203575h&#038;ver=4.6.1-RC1-38499' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='all-css-2-1' href='https://s2.wp.com/_static/??-eJx9i8sKgCAQAH8oWwSjOkTfYmLLhrrig34/u0Rdus3ADBAELmQ45Ad6k3MHZxRNig0FfBXRVaTWoGXh2OhCHD4idqcp/a3Jbo6xIUKrXnpPq1+kGmalplGq4wKxyTcd' type='text/css' media='all'/>
<link rel='stylesheet' id='print-css-3-1' href='https://s0.wp.com/wp-content/mu-plugins/global-print/global-print.css?m=1465851035h' type='text/css' media='print'/>
<link rel='stylesheet' id='all-css-4-1' href='https://s1.wp.com/_static/??/wp-content/mu-plugins/actionbar/actionbar.css,/wp-content/themes/h4/global.css?m=1479929846j' type='text/css' media='all'/>
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyFzt0KwjAMBeAXsiv+Tb0Qn6WrcaQuaW1Shz69HeiFMBQCgZyPQ+yYDLIfyhnEhjq3AvnxXk2Qhf0FDGGfnUJDyB/sIyuwTpZihwOYIpBdX2+16BJnXIqiBCIVzaTfLyHfEca/LIAm568mg+Bzaj3Rcblp2+1qfdjtwws0V1vd'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://kurtseifried.wordpress.com/xmlrpc.php?rsd"/>
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s1.wp.com/wp-includes/wlwmanifest.xml"/>
<meta name="generator" content="WordPress.com"/>
<link rel="shortcut icon" type="image/x-icon" href="https://s2.wp.com/i/favicon.ico" sizes="16x16 24x24 32x32 48x48"/>
<link rel="icon" type="image/x-icon" href="https://s2.wp.com/i/favicon.ico" sizes="16x16 24x24 32x32 48x48"/>
<link rel="apple-touch-icon-precomposed" href="https://s0.wp.com/i/webclip.png"/>
<link rel='openid.server' href='http://kurtseifried.wordpress.com/?openidserver=1'/>
<link rel='openid.delegate' href='http://kurtseifried.wordpress.com/'/>
<link rel="search" type="application/opensearchdescription+xml" href="http://kurt.seifried.org/osd.xml" title="Kurt Seifried"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com"/>
<style type='text/css'><!--
body { background: url("https://s0.wp.com/wp-content/themes/pub/kubrick/images/kubrickbgcolor.gif"); }
#page { background: url("https://s0.wp.com/wp-content/themes/pub/kubrick/images/kubrickbg.gif") repeat-y top; border: none; }
#header { background: url("https://s0.wp.com/wp-content/themes/pub/kubrick/images/kubrickheader.gif") no-repeat bottom center; }
#footer { background: url("https://s0.wp.com/wp-content/themes/pub/kubrick/images/kubrickfooter.gif") no-repeat bottom; border: none;}
#header { margin: 0 !important; margin: 0 0 0 1px; padding: 1px; height: 198px; width: 758px; }
#headerimg { margin: 7px 9px 0; height: 192px; width: 740px; }
#headerimg h1 a, #headerimg h1 a:visited, #headerimg .description { color: ; }
#headerimg h1 a, #headerimg .description { display:  }

	--></style><meta name="application-name" content="Kurt Seifried"/><meta name="msapplication-window" content="width=device-width;height=device-height"/><meta name="msapplication-tooltip" content="Just another blog from just another guy (kurt@seifried.org)"/><meta name="msapplication-task" content="name=Subscribe;action-uri=http://kurt.seifried.org/feed/;icon-uri=https://s2.wp.com/i/favicon.ico"/><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=http://s2.wp.com/i/favicon.ico"/><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=http://s2.wp.com/i/favicon.ico"/><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=http://s2.wp.com/i/favicon.ico"/><meta name="title" content="Posts about Uncategorized on Kurt Seifried"/>
<meta name="description" content="Posts about Uncategorized written by kurtseifried"/>
<style type="text/css" id="syntaxhighlighteranchor"></style>
</head>
<body class="archive category category-uncategorized category-1 mp6 customizer-styles-applied highlander-enabled highlander-light">
<div id="page">
<div id="header">
<div id="headerimg" onclick=" location.href='http://kurt.seifried.org';" style="cursor: pointer;">
<h1><a href="http://kurt.seifried.org/">Kurt Seifried</a></h1>
<div class="description">Just another blog from just another guy (<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="375c4245437744525e51455e525319584550">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>)</div>
</div>
</div>
<hr/>
<div id="content" class="narrowcolumn">
<h2 class="pagetitle">Archive for the &#8216;Uncategorized&#8217; Category</h2>
<div class="navigation">
<div class="alignleft"><a href="http://kurt.seifried.org/category/uncategorized/page/2/">&laquo; Older Entries</a></div>
<div class="alignright"></div>
</div>
<div class="post-338 post type-post status-publish format-standard hentry category-uncategorized">
<h3 id="post-338"><a href="http://kurt.seifried.org/2013/08/17/why-i-love-opensource-adding-csv-export-capability-to-mailman/" rel="bookmark">Why I love OpenSource &#8211; adding CSV export capability to&nbsp;Mailman</a></h3>
<small>August 17, 2013</small>
<div class="entry">
<p>So mailman is by far one of the best mailing list management packages available. One thing I love is the command line access, Because of this I can write simple scripts like:</p>
<pre style="padding-left:30px;">for list in `/usr/lib/mailman/bin/list_lists -b`
<span style="font-family:Consolas, Monaco, monospace;font-size:12px;line-height:18px;">do
</span>/usr/lib/mailman/bin/list_admins $list &gt; /root/mailman-export/$i-admins.txt
/usr/lib/mailman/bin/list_owners $list &gt; /root/mailman-export/$i-owners.txt
/usr/lib/mailman/bin/list_members $list &gt; /root/mailman-export/$i-members.txt
done</pre>
<p>And get a nice list of all the admins, owners and members for each list hosted on that server. I can then do things like grep for a specific user or domain across all the lists and then put that data into further scripts (e.g. to remove every account from a specific domain from every list). But not everyone wants a big list of text files. I had one administrative user that wants to run some analytics, they wanted a CSV file for every list in the form:</p>
<pre style="padding-left:30px;">"list name","email address","user name","access level"</pre>
<p>so for example:</p>
<pre style="padding-left:30px;">"announcements","<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="83e8f6f1f7c3f0e6eae5f1eae6e7adecf1e4">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>","Kurt Seifried","member"</pre>
<p>and so on. Now I could take the above bash script and modify it sufficiently to take the output and turn it into a CSV file, but there is probably a more elegant way. If you look at the &#8220;/usr/lib/mailman/bin/list_members&#8221; script you&#8217;ll see it&#8217;s pretty simple. In order to add CSV export capability I first copied it to &#8220;/usr/lib/mailman/bin/list_members-csv&#8221; and then opened it up in an editor.</p>
<p>First we&#8217;ll need support for CSV and datetime (so we can timestamp the output), just go to the import statements and add:</p>
<pre style="padding-left:30px;">import csv
import datetime</pre>
<p>Then you&#8217;ll want to create a CSV file to write to, I want my files in &#8220;/root/list-exports/&#8221; in a file name  that has the list name, membership level and date (which is redundant but makes dumping all the outputs into the same dir easy and safe). Simply go into &#8220;__main_-&#8221; and find the line:</p>
<pre style="padding-left:30px;">listname = args[0].lower().strip()</pre>
<p>Then add something like:</p>
<pre style="padding-left:30px;">datestring = str(datetime.date.today())
cvsoutputdir = "/root/list-output/"
cvsoutputfilename = cvsoutputdir + listname + "-members-" + datestring + ".csv"
csvoutputfile = open(cvsoutputfilename, "wb")
csvwriter = csv.writer(csvoutputfile, dialect='excel', quoting=csv.QUOTE_ALL)</pre>
<p>you now have a file name in the form &#8220;listname-members-date.csv&#8221;, all the data will always be quoted and the output will be in the format preferred by Excel (so for escaping/etc. it&#8217;ll use the characters Excel is expecting). I could have integrated this with the &#8220;&#8211;output file&#8221; command line option,  but then I need logic to handle the datetime and membership level and list name in the wrapper using my modified version of list_members, so it&#8217;s easier (for me) to just stick that logic into my modified list_members.</p>
<p>Now you simply look for the lines where the output is actually handled and replace:</p>
<pre style="padding-left:30px;">print &gt;&gt; fp, formataddr((safe(name), addr))</pre>
<p>with:</p>
<pre style="padding-left:30px;">csvwriter.writerow([listname, addr, safe(name), "member"])</pre>
<p>And you&#8217;re done.  Now you could get fancy and make it an actual option (&#8211;csv?) in the existing program, and add some switch logic for output, but honestly, I couldn&#8217;t be bothered, this is simple enough and it works reliably.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</div>
<p class="postmetadata"> Posted in <a href="http://kurt.seifried.org/category/uncategorized/" rel="category tag">Uncategorized</a> | <a href="http://kurt.seifried.org/2013/08/17/why-i-love-opensource-adding-csv-export-capability-to-mailman/#respond">Leave a Comment &#187;</a></p>
</div>
<div class="post-168 post type-post status-publish format-standard hentry category-uncategorized tag-selinux tag-spam">
<h3 id="post-168"><a href="http://kurt.seifried.org/2013/06/17/fedora-16-with-selinux-running-wordpress-with-akismet/" rel="bookmark">Fedora 16 with SELinux running WordPress with&nbsp;Akismet</a></h3>
<small>June 17, 2013</small>
<div class="entry">
<p>So you have WordPress and Akismet to get rid of spam. But for some reason Akismet is not working:</p>
<p><a href="http://kurtseifried.files.wordpress.com/2012/03/wordpress-akismet-fail.png"><img class="size-full wp-image-169 alignnone" title="WordPress-Akismet-fail" alt="WordPress with Akismet failing" src="http://kurtseifried.files.wordpress.com/2012/03/wordpress-akismet-fail.png?w=450" srcset="http://kurtseifried.files.wordpress.com/2012/03/wordpress-akismet-fail.png 419w, http://kurtseifried.files.wordpress.com/2012/03/wordpress-akismet-fail.png?w=150 150w, http://kurtseifried.files.wordpress.com/2012/03/wordpress-akismet-fail.png?w=300 300w" sizes="(max-width: 419px) 100vw, 419px"/></a></p>
<p>You can test if you have a valid key and connectivity from the command line with either wget:</p>
<pre style="padding-left:30px;">wget --post-data 'key=YOURKEYGOESHERE&amp;blog=http://example.org'\
http://rest.akismet.com/1.1/verify-key</pre>
<p>or using curl:</p>
<pre style="padding-left:30px;">curl -d 'key=YOURKEYGOESHERE' -d 'blog=http://example.org' \
http://rest.akismet.com/1.1/verify-keyd</pre>
<p>If it works you should receieve a file called &#8220;verify-key&#8221; containing the word &#8220;valid&#8221;</p>
<p>If that doesn&#8217;t work then you have problems outside the scope of this article.</p>
<p>But if you can retrieve the key than chances are your SELinux configuration is limiting what the httpd server can do.</p>
<p>Luckily the fix is simple: allow httpd to make outgoing connections:</p>
<pre style="padding-left:30px;">setsebool -P httpd_can_network_connect on</pre>
<p>But wait a minute you say. Now my httpd server can connect to anything, attackers can use it to attack other systems potentially (especially if you allow CGI scripts and arbitrary WordPress plugins or themes which can contain PHP code).</p>
<p>So we need to limit what systems the httpd server can connect to. The good news here is that IPTables supports this.</p>
<p>In the case of Akissmet you&#8217;d want to add something like this to your /etc/sysconfig/iptables file:</p>
<pre style="padding-left:30px;">-A OUTPUT -m state --state ESTABLISHED,RELATED -j ACCEPT
-A OUTPUT -m owner --uid-owner apache -m tcp -p tcp --dport 80 \
--dest 66.135.58.61 -j ACCEPT
-A OUTPUT -m owner --uid-owner apache -m tcp -p tcp --dport 80 \
--dest 66.135.58.62 -j ACCEPT 
-A OUTPUT -m owner --uid-owner apache -m tcp -p tcp --dport 80 \
--dest 72.223.69.89 -j ACCEPT
-A OUTPUT -m owner --uid-owner apache -m tcp -p tcp --dport 80 \
--dest 72.223.69.88 -j ACCEPT
-A OUTPUT -m owner --uid-owner apache -j REJECT</pre>
<p>This should allow only existing inbound connections (e.g. web clients) and outgoing connections to Akismet (you may want to add any other services you use of course).</p>
</div>
<p class="postmetadata">Tags:<a href="http://kurt.seifried.org/tag/selinux/" rel="tag">SELinux</a>, <a href="http://kurt.seifried.org/tag/spam/" rel="tag">spam</a><br/> Posted in <a href="http://kurt.seifried.org/category/uncategorized/" rel="category tag">Uncategorized</a> | <a href="http://kurt.seifried.org/2013/06/17/fedora-16-with-selinux-running-wordpress-with-akismet/#respond">Leave a Comment &#187;</a></p>
</div>
<div class="post-291 post type-post status-publish format-standard hentry category-uncategorized tag-dsk tag-programming">
<h3 id="post-291"><a href="http://kurt.seifried.org/2013/05/27/why-domain-specific-knowledge-dsk-is-critical-to-writing-good-software-an-example/" rel="bookmark">Why Domain Specific Knowledge (DSK) is critical to writing good software &#8211; an&nbsp;example</a></h3>
<small>May 27, 2013</small>
<div class="entry">
<p>Software for the police written by someone trained to be a policeman:</p>
<p><a href="http://www.fastcolabs.com/3010085/this-founder-trained-at-the-police-academy-to-build-an-app-for-cops">http://www.fastcolabs.com/3010085/this-founder-trained-at-the-police-academy-to-build-an-app-for-cops</a></p>
<p style="padding-left:30px;">Look for a genuine problem to be solved, not a way to leverage some technology. Really understand the problem that you seek to solve. For example, we have one of the ugliest UIs in the world, and unless you are a cop it&#8217;s very difficult to understand why. On the left hand side is what we call the pedigree: the person&#8217;s image and an image of their car model. This is designed to be used on a portable computer in a moving unmarked car, and all we want to give you is the ability to see that person on the street or the car in the driveway. Some of this information looks redundant but it isn&#8217;t, e.g., age and date of birth. The age is so I know how old the person who I am going to encounter is. The date of birth is to confirm her identity once I see her. The area on the right changes. It shows home address and home street view when you are still driving. We require almost no keystrokes. Cops hate typing, and they are in a car so they are not allowed to type while they drive. Everything is one click away except when you are parked. We are anticipating the workflow in the order in which we believe a cop will do it but we don&#8217;t require them to follow our workflow order.</p>
<p>I would have put a pic of the front of the car (wrong) and just the DOB (making the cop do more work to mentally figure out the age). Good thing I don&#8217;t write software for the police.</p>
</div>
<p class="postmetadata">Tags:<a href="http://kurt.seifried.org/tag/dsk/" rel="tag">dsk</a>, <a href="http://kurt.seifried.org/tag/programming/" rel="tag">programming</a><br/> Posted in <a href="http://kurt.seifried.org/category/uncategorized/" rel="category tag">Uncategorized</a> | <a href="http://kurt.seifried.org/2013/05/27/why-domain-specific-knowledge-dsk-is-critical-to-writing-good-software-an-example/#respond">Leave a Comment &#187;</a></p>
</div>
<div class="post-279 post type-post status-publish format-standard hentry category-uncategorized tag-security tag-vmware">
<h3 id="post-279"><a href="http://kurt.seifried.org/2013/04/16/vmware-update-insecurity/" rel="bookmark">VMware update insecurity</a></h3>
<small>April 16, 2013</small>
<div class="entry">
<p>So the good news is VMware has a built in updater, and even better the server it uses to query for information is SSL/TLS enabled. The bad news is they are using Akamai with an insecure configuration: <a href="http://kurtseifried.files.wordpress.com/2013/04/vmware-update-overall-grade.png"><img class="aligncenter size-large wp-image-281" alt="vmware-update-overall-grade" src="http://kurtseifried.files.wordpress.com/2013/04/vmware-update-overall-grade.png?w=450&#038;h=246" width="450" height="246" srcset="http://kurtseifried.files.wordpress.com/2013/04/vmware-update-overall-grade.png?w=450&amp;h=246 450w, http://kurtseifried.files.wordpress.com/2013/04/vmware-update-overall-grade.png?w=897&amp;h=492 897w, http://kurtseifried.files.wordpress.com/2013/04/vmware-update-overall-grade.png?w=150&amp;h=82 150w, http://kurtseifried.files.wordpress.com/2013/04/vmware-update-overall-grade.png?w=300&amp;h=164 300w, http://kurtseifried.files.wordpress.com/2013/04/vmware-update-overall-grade.png?w=768&amp;h=421 768w" sizes="(max-width: 450px) 100vw, 450px"/></a> A quick note: Akamai is a huge content delivery network (CDN) used by many vendors to deliver content and software updates to end customers. Some pretty insecure configurations of SSL and TLS are supported by Akamai for the simple fact that there is still a lot of old software/clients out there, which Akamai&#8217;s customers want to support. As you can see here if you query <a href="https://www.ssllabs.com/ssltest/analyze.html?d=softwareupdate.vmware.com">https://www.ssllabs.com/ssltest/analyze.html?d=softwareupdate.vmware.com</a> they use an Akamai certificate: <a href="http://kurtseifried.files.wordpress.com/2013/04/vmware-update-akamai.png"><img class="aligncenter size-large wp-image-280" alt="vmware-update-akamai" src="http://kurtseifried.files.wordpress.com/2013/04/vmware-update-akamai.png?w=450&#038;h=265" width="450" height="265" srcset="http://kurtseifried.files.wordpress.com/2013/04/vmware-update-akamai.png?w=450&amp;h=265 450w, http://kurtseifried.files.wordpress.com/2013/04/vmware-update-akamai.png?w=150&amp;h=89 150w, http://kurtseifried.files.wordpress.com/2013/04/vmware-update-akamai.png?w=300&amp;h=177 300w, http://kurtseifried.files.wordpress.com/2013/04/vmware-update-akamai.png?w=768&amp;h=454 768w, http://kurtseifried.files.wordpress.com/2013/04/vmware-update-akamai.png 816w" sizes="(max-width: 450px) 100vw, 450px"/></a> Nothing wrong so far, but when you look at the versions of the SSL protocol that are supported they have left SSL 2.0 enabled, and they have also left weak ciphers including several 40 bit ones enabled: <a href="http://kurtseifried.files.wordpress.com/2013/04/vmware-update-weak-ciphers.png"><img class="aligncenter size-large wp-image-282" alt="vmware-update-weak-ciphers" src="http://kurtseifried.files.wordpress.com/2013/04/vmware-update-weak-ciphers.png?w=450&#038;h=297" width="450" height="297" srcset="http://kurtseifried.files.wordpress.com/2013/04/vmware-update-weak-ciphers.png?w=450&amp;h=297 450w, http://kurtseifried.files.wordpress.com/2013/04/vmware-update-weak-ciphers.png?w=150&amp;h=99 150w, http://kurtseifried.files.wordpress.com/2013/04/vmware-update-weak-ciphers.png?w=300&amp;h=199 300w, http://kurtseifried.files.wordpress.com/2013/04/vmware-update-weak-ciphers.png?w=768&amp;h=509 768w, http://kurtseifried.files.wordpress.com/2013/04/vmware-update-weak-ciphers.png 817w" sizes="(max-width: 450px) 100vw, 450px"/></a> This makes an SSL downgrade attack trivial for an attacker as 40 bit keys can be broken in near real time now with even a remotely powerful computer that has a GPU.  Using this an attacker can man in the middle your upgrade session and tell the client no updates are available (forcing you to remain on an older version with security issues), or potentially send you a malicious update. I haven&#8217;t looked at the guts of the VMware updater, for all I know they may use additional protections like secure signing of the update software itself, but let&#8217;s hope they do, because the communication channels it is sent over are not very secure. The good news is that fixing this is easy, VMware just needs to make sure their updater software supports TLS and secure ciphers (which if they&#8217;re using an even moderately up to date library won&#8217;t be a problem), and they need to update their Akamai configuration to exclude SSL 2.0 and the weak ciphers.</p>
</div>
<p class="postmetadata">Tags:<a href="http://kurt.seifried.org/tag/security/" rel="tag">security</a>, <a href="http://kurt.seifried.org/tag/vmware/" rel="tag">vmware</a><br/> Posted in <a href="http://kurt.seifried.org/category/uncategorized/" rel="category tag">Uncategorized</a> | <a href="http://kurt.seifried.org/2013/04/16/vmware-update-insecurity/#respond">Leave a Comment &#187;</a></p>
</div>
<div class="post-265 post type-post status-publish format-standard hentry category-uncategorized tag-hbr tag-spam">
<h3 id="post-265"><a href="http://kurt.seifried.org/2013/03/01/new-techniques-in-spam-from-the-harvard-business-review-hbr/" rel="bookmark">New techniques in spam from the Harvard Business Review&nbsp;(HBR)</a></h3>
<small>March 1, 2013</small>
<div class="entry">
<p>No this isn&#8217;t about an article in the Harvard Business Review (HBR), this is actually about spam from the Harvard Business Review. A long time ago I signed up for a year since I got one of those &#8220;get the magazine for $19.95 a year&#8221; offers and figured why not. I then cancelled at the end since I didn&#8217;t find the magazine terribly interesting or forward looking (it seems to mostly reflect an entrenched view of business/law that while useful for existing managers is not terribly education, unlike say the Economist which I still read).</p>
<p>So what&#8217;s this new spam technique from the Harvard Business Review? Well they sent me an email, informing me that I had not completed an order at their online store and that my shopping cart still had items in it. This is a pretty clever social engineering technique, they&#8217;re prompting you and leading you to believe that you had meant to renew your Harvard Business Review subscription and obviously got distracted or something so you might want to finish the process and send them some money. Except I hadn&#8217;t been shopping on their web site (my subscription lapsed a few years ago).</p>
<p><a href="http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email.png"><img class="aligncenter size-full wp-image-267" alt="Harvard-Business-Review-Spam-Email" src="http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email.png?w=450&#038;h=431" width="450" height="431" srcset="http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email.png?w=450&amp;h=431 450w, http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email.png?w=150&amp;h=144 150w, http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email.png?w=300&amp;h=288 300w, http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email.png 666w" sizes="(max-width: 450px) 100vw, 450px"/></a></p>
<p>So I went to unsubscribe (who knows, they might actually stop emailing me), but that part of the process was also engineered to make it difficult, first step: make the person enter their email address rather then filling the form (and they know the email address, I mean they just spammed me):</p>
<p><a href="http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe.png"><img class="aligncenter size-full wp-image-268" alt="Harvard-Business-Review-Spam-Email-Unsubscribe" src="http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe.png?w=450&#038;h=187" width="450" height="187" srcset="http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe.png?w=450&amp;h=187 450w, http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe.png?w=150&amp;h=62 150w, http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe.png?w=300&amp;h=125 300w, http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe.png?w=768&amp;h=319 768w, http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe.png 808w" sizes="(max-width: 450px) 100vw, 450px"/></a></p>
<p>But then the piece de resistance:</p>
<p><a href="http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe-10-days.png"><img class="aligncenter size-full wp-image-269" alt="Harvard-Business-Review-Spam-Email-Unsubscribe-10-Days" src="http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe-10-days.png?w=450&#038;h=123" width="450" height="123" srcset="http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe-10-days.png?w=450&amp;h=123 450w, http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe-10-days.png?w=150&amp;h=41 150w, http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe-10-days.png?w=300&amp;h=82 300w, http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe-10-days.png?w=768&amp;h=210 768w, http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe-10-days.png 808w" sizes="(max-width: 450px) 100vw, 450px"/></a></p>
<p>Up to 10 days to remove you from a mailing list. What. The. Fuck? So yeah, the moral of the story is use the &#8220;spam&#8221; button in your mail client and deep six all the crap Harvard Business Review is going to try sending you.</p>
</div>
<p class="postmetadata">Tags:<a href="http://kurt.seifried.org/tag/hbr/" rel="tag">hbr</a>, <a href="http://kurt.seifried.org/tag/spam/" rel="tag">spam</a><br/> Posted in <a href="http://kurt.seifried.org/category/uncategorized/" rel="category tag">Uncategorized</a> | <a href="http://kurt.seifried.org/2013/03/01/new-techniques-in-spam-from-the-harvard-business-review-hbr/#respond">Leave a Comment &#187;</a></p>
</div>
<div class="post-236 post type-post status-publish format-standard hentry category-uncategorized tag-simulators">
<h3 id="post-236"><a href="http://kurt.seifried.org/2012/09/27/circuit-and-logic-simulators/" rel="bookmark">Circuit and Logic&nbsp;Simulators</a></h3>
<small>September 27, 2012</small>
<div class="entry">
<p>These look like fun</p>
<ul>
<li>Andreas Tetzl&#8217;s Logic simulators: <a href="http://www.tetzl.de/java_logic_simulator.html">http://www.tetzl.de/java_logic_simulator.html</a></li>
<li>Atanua: <a href="http://sol.gfxile.net/atanua/index.html">http://sol.gfxile.net/atanua/index.html</a></li>
<li>Board Drawing: <a href="http://3d2f.com/programs/84-182-board-drawing-download.shtml">http://3d2f.com/programs/84-182-board-drawing-download.shtml</a></li>
<li>Circuitlab: <a href="https://www.circuitlab.com/">https://www.circuitlab.com/</a></li>
<li>Circuit Maker: <a href="http://my.ece.ucsb.edu/bobsclass/2C/Simulation/circuit_maker.htm">http://my.ece.ucsb.edu/bobsclass/2C/Simulation/circuit_maker.htm</a></li>
<li>Circuit Simulator Applet: <a href="http://www.falstad.com/circuit/">http://www.falstad.com/circuit/</a></li>
<li>DesignWorksMac: <a href="http://www.capilano.com/dwm45.html">http://www.capilano.com/dwm45.html</a></li>
<li>Hades Simulation Framework: <a href="http://tams-www.informatik.uni-hamburg.de/applets/hades/webdemos/index.html">http://tams-www.informatik.uni-hamburg.de/applets/hades/webdemos/index.html</a></li>
<li>Linear Technology: <a href="http://www.linear.com/designtools/software/">http://www.linear.com/designtools/software/</a></li>
<li>Logic Friday: <a href="http://sontrak.com/index.html">http://sontrak.com/index.html</a></li>
<li>Logic Lab: <a href="http://www.neuroproductions.be/logic-lab/">http://www.neuroproductions.be/logic-lab/</a></li>
<li>Logic.ly: <a href="http://logic.ly/">http://logic.ly/</a></li>
<li>Logisim: <a href="http://ozark.hendrix.edu/~burch/logisim/">http://ozark.hendrix.edu/~burch/logisim/</a></li>
<li>MMLogic: <a href="http://www.softronix.com/logic.html">http://www.softronix.com/logic.html</a></li>
</ul>
<p>I wonder if there any good ones for the iPad.</p>
</div>
<p class="postmetadata">Tags:<a href="http://kurt.seifried.org/tag/simulators/" rel="tag">simulators</a><br/> Posted in <a href="http://kurt.seifried.org/category/uncategorized/" rel="category tag">Uncategorized</a> | <a href="http://kurt.seifried.org/2012/09/27/circuit-and-logic-simulators/#respond">Leave a Comment &#187;</a></p>
</div>
<div class="post-207 post type-post status-publish format-standard hentry category-uncategorized tag-sanitizing tag-security">
<h3 id="post-207"><a href="http://kurt.seifried.org/2012/07/04/how-not-to-post-log-information-or-why-i-shred-every-piece-of-paper-i-touch/" rel="bookmark">How not to post log information, or why I shred every piece of paper I&nbsp;touch</a></h3>
<small>July 4, 2012</small>
<div class="entry">
<p>So this thread just came to my attention: <a href="http://comments.gmane.org/gmane.mail.postfix.user/227441">http://comments.gmane.org/gmane.mail.postfix.user/227441</a></p>
<div style="padding-left:30px;">I use postfix2.5.5 rpm to run postfix as relay server</div>
<div style="padding-left:30px;">since from last many day my application team of SAP software started complaining for the smtp email failuer</div>
<div style="padding-left:30px;">pls find the below longs</div>
<div style="padding-left:30px;">++++++++++++++++++++++++++++++++++++++++++++</div>
<div style="padding-left:30px;">
<p style="padding-left:30px;">Email 1</p>
<p style="padding-left:30px;">Feb  6 10:41:22 D1SNX682RL postfix/smtpd[3693]: connect from unknown[155.14.132.36]<br/>
Feb  6 10:41:23 D1SNX682RL postfix/smtpd[3693]: 20C453E00C0: client=unknown[155.14.132.36]<br/>
Feb  6 10:41:23 D1SNX682RL postfix/cleanup[10313]: 20C453E00C0: warning: header Subject: RE: RE: RE: RE: RE:// FOLLOW UP // HBL SCREENSHOT //  FINAL SI &amp; HBL // E.R FREMANTLE 087 // HIBLOW from unknown[155.14.132.36]; from=&lt;<a href="/cdn-cgi/l/email-protection#e8a5a9a6a1a4a9b7aca7abbbc8ce849cd3899cce8f9cd3c8a9b8a4c6aba7a5">MANILA_DOCS &lt;at&gt; APL.COM</a>&gt; to=&lt;<a href="/cdn-cgi/l/email-protection#b7d4c5dae8d2dad6dedbe8d6c5d4dfdec1d2e8d6c7db9791dbc38cd6c391d0c38c97d6c7db99d4d8da">crm_email_archive_apl &lt;at&gt; apl.com</a>&gt; proto=ESMTP helo=&lt;<a href="http://nol.com.sg/">nol.com.sg</a>&gt;<br/>
Feb  6 10:41:23 D1SNX682RL postfix/cleanup[10313]: 20C453E00C0: message-id=&lt;<a href="/cdn-cgi/l/email-protection#4b0a0f19787c7b7b7b7b7b7b7a7b7f72727e6b6d273f702a3f6d2c3f706b2524276528242665382c">ADR37000000104995 &lt;at&gt; nol.com.sg</a>&gt;<br/>
Feb  6 10:44:27 D1SNX682RL postfix/smtpd[3693]: lost connection after DATA (437492 bytes) from unknown[155.14.132.36]<br/>
Feb  6 10:44:27 D1SNX682RL postfix/smtpd[3693]: disconnect from unknown[155.14.132.36]</p>
<p>Followed by:</p>
</div>
<p style="padding-left:30px;">please at least remove from this site , there is security audit going on in my organisation i dont want to maintain this thread , please remove this .</p>
<p>Whoops. You may have noticed in my previous posting &#8220;<a href="http://kurt.seifried.org/2012/05/14/fedora-16-and-red-hat-on-ec2-with-sendmail-using-smart_host-with-authentication/">Fedora 16 and Red Hat on EC2 with Sendmail using SMART_HOST with authentication</a>&#8221; I took the time to sanitize all the IPs and hostnames presented in the examples. It was a bit of a chorse (running search and replace is simple, but reading the results three times to ensure nothing was missed is tedious), but it&#8217;s worth it. Would the information aid an attacker? A little bit. There are other ways to find this out as well (error messages from servers, etc.).</p>
<p>But the reason I do it is simple: if you ALWAYS sanitize information then you won&#8217;t run into a situation where you decided not to sanitize the information and later turned out to be wrong. This is exactly why I shred every single piece of paper I touch before throwing it out. Do I need to shred the envelopes my bills come in? They have no personal information/etc., they could conceivably be used to determine which banks/companies I deal with, and how much I deal with them, but I&#8217;m not overly worried about that (anyone taking the time to go through all my trash can find this out other ways). No the reason I shred everything, including envelopes is so that I never have to worry about throwing something away sensitive. Also I don&#8217;t have to spend any time/effort deciding if something needs shredding or not, it all automatically goes into a pile, and when I&#8217;m bored I feed the shredder (I actually find it oddly fun&#8230;).</p>
</div>
<p class="postmetadata">Tags:<a href="http://kurt.seifried.org/tag/sanitizing/" rel="tag">sanitizing</a>, <a href="http://kurt.seifried.org/tag/security/" rel="tag">security</a><br/> Posted in <a href="http://kurt.seifried.org/category/uncategorized/" rel="category tag">Uncategorized</a> | <a href="http://kurt.seifried.org/2012/07/04/how-not-to-post-log-information-or-why-i-shred-every-piece-of-paper-i-touch/#respond">Leave a Comment &#187;</a></p>
</div>
<div class="post-191 post type-post status-publish format-standard hentry category-uncategorized tag-gnome3 tag-usability">
<h3 id="post-191"><a href="http://kurt.seifried.org/2012/06/01/making-fedora-17-gnome-3-work-you-cant-its-completely-broken/" rel="bookmark">Making Fedora 17 + Gnome 3 work &#8211; you can&#8217;t, it&#8217;s completely&nbsp;broken</a></h3>
<small>June 1, 2012</small>
<div class="entry">
<h2>Update (June 6, 2012): Gnome 3 is actually a LOT more broken than I previously thought. I have since found more problems that basically make it near impossible to configure sanely, if at all.</h2>
<p>So to put it bluntly the Gnome 3 changes suck if you use more than one application at a time and especially if you use more than one monitor as well. Having to move the mouse over to the top left constantly to show windows/applications so you can bring another window to the front or launch an application. I typically have 5-10 (sometimes 20) xterms open (most SSH&#8217;ed in to remote hosts), at least two web browser (Firefox and Chrome, more if I have a lot of tabs open so I can actually read the titles on the tabs, a not uncommon occurrence), my mail client, and my IRC client at a bare minimum.</p>
<p>In other words the Fedora 17 + Gnome 3 defaults completely suck for me (and I suspect many others).</p>
<h2>Step 1) getting my minimize and maximize buttons back:</h2>
<p>You&#8217;ll need the UI tweak tool:</p>
<pre style="padding-left:30px;">yum install gnome-tweak-tool</pre>
<p>and then run it and go to &#8220;Shell&#8221; and then pick the &#8220;Arrangement of buttons on the titlebar&#8221; and select &#8220;All&#8221;:</p>
<p><a href="http://kurtseifried.files.wordpress.com/2012/06/gnome-tweak-tool-min-max-close.png"><img class="aligncenter size-full wp-image-195" title="gnome-tweak-tool-min-max-close" alt="" src="http://kurtseifried.files.wordpress.com/2012/06/gnome-tweak-tool-min-max-close.png?w=450&#038;h=359" width="450" height="359" srcset="http://kurtseifried.files.wordpress.com/2012/06/gnome-tweak-tool-min-max-close.png?w=450&amp;h=359 450w, http://kurtseifried.files.wordpress.com/2012/06/gnome-tweak-tool-min-max-close.png?w=150&amp;h=120 150w, http://kurtseifried.files.wordpress.com/2012/06/gnome-tweak-tool-min-max-close.png?w=300&amp;h=240 300w, http://kurtseifried.files.wordpress.com/2012/06/gnome-tweak-tool-min-max-close.png 642w" sizes="(max-width: 450px) 100vw, 450px"/></a></p>
<p>which will put them on the right hand side ala Windows / Gnome 2</p>
<h2>Step 2) getting a taskbar</h2>
<p>I like the taskbar, most of us have been using the taskbar since Win95, and in my case since OS/2 (yeah, that was an interesting dead end OS), and most versions of Linux copied it early on because, well, it works quite well.</p>
<pre style="padding-left:30px;">yum install tint2</pre>
<p>and then have it autostart, run the gnome-session-properties program:</p>
<pre style="padding-left:30px;">gnome-session-properties</pre>
<p>and add it in:</p>
<p><a href="http://kurtseifried.files.wordpress.com/2012/06/tint2-autostart.png"><img class="aligncenter size-full wp-image-193" title="tint2-autostart" alt="" src="http://kurtseifried.files.wordpress.com/2012/06/tint2-autostart.png?w=450&#038;h=360" width="450" height="360" srcset="http://kurtseifried.files.wordpress.com/2012/06/tint2-autostart.png?w=450&amp;h=360 450w, http://kurtseifried.files.wordpress.com/2012/06/tint2-autostart.png?w=150&amp;h=120 150w, http://kurtseifried.files.wordpress.com/2012/06/tint2-autostart.png?w=300&amp;h=240 300w, http://kurtseifried.files.wordpress.com/2012/06/tint2-autostart.png 610w" sizes="(max-width: 450px) 100vw, 450px"/></a></p>
<h2>Step 3) A dock bar for launching programs</h2>
<p>Being able to launch applications quickly is kind of useful. A dock bar with icons is about as good as it gets.</p>
<pre style="padding-left:30px;">yum install gnome-shell-extension-dock.noarch</pre>
<p>and then .. I&#8217;m not sure, I logged out and back in and Gnome failed to load. Removing the dock extension appears to have addressed it. sigh. The good news is that Fedora 16 will be supported for another 6 months.</p>
<h2>Added June 6, 2012:</h2>
<h2>Step 4) Customizing icon launch properties</h2>
<p>So I also need some of my icons to have customized command line options. Usually this is easy, you right click, and change the properties of the icon such as the &#8220;command&#8221; or &#8220;execute&#8221; line. For example if you want to launch the Google Chrome web browser with Kerberos 5 support you need something like:</p>
<pre style="padding-left:30px;">google-chrome --auth-server-whitelist="*.example.com"</pre>
<p>So doing this should be easy right, simply choose icon properties&#8230; hrmm.. that isn&#8217;t available. Just &#8220;New Window&#8221; and &#8220;Add to favorites&#8221;. Ok, maybe there is an application to do this, aha, &#8220;alacarte&#8221; which is &#8220;a graphical menu editor that lets you edit, add, and delete menu entries.&#8221; This should be perfect, just install it:</p>
<p>yum install alacarte</p>
<p>and run it. Nope, it&#8217;s broken &#8220;ImportError: No module named gmenu&#8221;. Now Debian has a package called &#8220;python-gmenu&#8221; which is &#8220;an implementation of the freedesktop menu specification for GNOME&#8221;, but there doesn&#8217;t appear to be such a package for Fedora.</p>
<p>Worse, the alacarte program has been broken, since August of 2011: <a href="https://bugzilla.redhat.com/show_bug.cgi?id=734442">https://bugzilla.redhat.com/show_bug.cgi?id=734442</a> so I wouldn&#8217;t exactly hold my breath.</p>
<p>So if you want to customize an icon to include command line options you&#8217;ll need to copy the icon file data into your home directory and edit it by hand, this is best described at <a href="http://superuser.com/questions/304271/commandline-options-in-gnome-3-launchers">http://superuser.com/questions/304271/commandline-options-in-gnome-3-launchers</a> and the short version is:</p>
<p>copy the file from /usr/share/applications/ to ~/.local/share/applications/ and modify the &#8220;Exec=&#8221; line.</p>
</div>
<p class="postmetadata">Tags:<a href="http://kurt.seifried.org/tag/gnome3/" rel="tag">gnome3</a>, <a href="http://kurt.seifried.org/tag/usability/" rel="tag">usability</a><br/> Posted in <a href="http://kurt.seifried.org/category/uncategorized/" rel="category tag">Uncategorized</a> | <a href="http://kurt.seifried.org/2012/06/01/making-fedora-17-gnome-3-work-you-cant-its-completely-broken/#respond">Leave a Comment &#187;</a></p>
</div>
<div class="post-182 post type-post status-publish format-standard hentry category-uncategorized tag-sendmail">
<h3 id="post-182"><a href="http://kurt.seifried.org/2012/05/14/fedora-16-and-red-hat-on-ec2-with-sendmail-using-smart_host-with-authentication/" rel="bookmark">Fedora 16 and Red Hat on EC2 with Sendmail using SMART_HOST with&nbsp;authentication</a></h3>
<small>May 14, 2012</small>
<div class="entry">
<p>So I have a bunch of servers hosted on Amazon EC2 running Red Hat Linux / Fedora. Most of them are web front ends, so they need to be able to send email (alerts, status reports, etc.) but I don&#8217;t want to have to request that the email limit be increased on each server (as they come up and down a lot as demand requires).</p>
<p>So my obvious thought was to run an EC2 instance that would act as an email relay for all these servers. Easy enough, install a host with Sendmail, and allowing relaying. The trick here is that I don&#8217;t want to have to edit the access file every time a new host comes up or leaves as the level of IP address churn is quite high. So we enable email authentication, and pre-load EC2 images with the credentials to relay email through the server and we&#8217;re done.</p>
<p>So, foolishly, I thought I&#8217;d skip SMTP, and go straight to TLS encrypted SMTP (port 465), and require authentication. This way all the communications, email, authentication credentials and so on are well protected.I setup the Sendmail server, and tested it using Thunderbird, TLS+auth worked perfectly. However on the Sendmail client server side it did not work well, in fact I was unable to get it working at all, so if anyone knows how I&#8217;d love to hear from you.</p>
<h2><strong>Setting up the Sendmail Server with encryption and authentication</strong></h2>
<p>You&#8217;ll need to install sendmail and sasl:</p>
<pre style="padding-left:30px;">yum install sendmail-cf cyrus-sasl-plain cyrus-sasl-md5 
cyrus-sasl-gssapi cyrus-sasl-lib cyrus-sasl-devel cyrus-sasl</pre>
<p>and enable / start it:</p>
<pre style="padding-left:30px;">systemctl enable saslauthd.service
systemctl enable sendmail.service
systemctl start saslauthd.service
systemctl start sendmail.service</pre>
<p>Then you&#8217;ll need to edit /etc/mail/sendmail.mc, make sure these two lines are not commented out (they are by default):</p>
<pre style="padding-left:30px;">TRUST_AUTH_MECH(`EXTERNAL DIGEST-MD5 CRAM-MD5 LOGIN PLAIN')dnl
define(`confAUTH_MECHANISMS', `EXTERNAL GSSAPI DIGEST-MD5 CRAM-MD5 LOGIN PLAIN')dnl</pre>
<p>and then enable submission:</p>
<pre style="padding-left:30px;">DAEMON_OPTIONS(`Port=submission, Name=MSA, M=Ea')dnl</pre>
<p>Then you&#8217;ll need to enable encryption certificates:</p>
<pre style="padding-left:30px;">define(`confCACERT_PATH', `/etc/pki/tls/certs')dnl
define(`confCACERT', `/etc/pki/tls/certs/CA_bundle.pem')dnl
define(`confSERVER_CERT', `/etc/pki/tls/certs/server.crt')dnl
define(`confSERVER_KEY', `/etc/pki/tls/private/server.key')dnl</pre>
<p>and you&#8217;re basically done. Simply rebuild the sendmail configuration and restart it:</p>
<pre style="padding-left:30px;">/etc/mail/make
systemctl restart sendmail.service</pre>
<p>You&#8217;ll then need to ensure port 587 is not firewalled (either on the local system or in your EC2 security groups), and you&#8217;ll have to create local accounts with passwords so the clients can authenticate against them (e.g. create a user called &#8220;mail-relay&#8221; with a password and lock the account down).</p>
<p>You can easily test the server using an email client such as Thunderbird.</p>
<h2><strong>Setting up the Sendmail Client Server with encryption and authentication</strong></h2>
<p>First you&#8217;re going to need Sendmail and the syrus-sasl-plain rpms installed. The really annoying part is if you don&#8217;t install the cyrus-sasl-plain package email connections will fail, but the log files are less than helpful when this occurs:</p>
<pre style="padding-left:30px;">May 20 23:22:48 ip-10-242-49-173 sendmail[9890]: q4L3MmFP009890: 
client.example.org [10.1.2.3] (may be forged) did not issue 
MAIL/EXPN/VRFY/ETRN during connection to MSA</pre>
<p>To install the rpms simply:</p>
<pre style="padding-left:30px;">yum install sendmail-cf cyrus-sasl-plain</pre>
<p>So now to setup the client. This is woefully documented and there is a ton of conflicting information. To start with install the same sendmail and sasl packages as above. Then you&#8217;ll need a standard SMART_HOST entry line, but with the added options of telling it to use port 587 (submission) and a link to the file with the authentication information:</p>
<pre style="padding-left:30px;">define(`SMART_HOST', `smarthost.example.org')dnl
define(`RELAY_MAILER_ARGS', `TCP $h 587')
define(`ESMTP_MAILER_ARGS', `TCP $h 587')
FEATURE(`authinfo',`Hash -o /etc/mail/authinfo.db')dnl</pre>
<p>You&#8217;ll also need to create an /etc/mail/authinfo file with contents such as:</p>
<pre style="padding-left:30px;">AuthInfo:smarthost.example.org "U:user_name" "P:password_here" "M:PLAIN"</pre>
<p>and build it using the makemap program:</p>
<pre style="padding-left:30px;">makemap hash /etc/mail/authinfo &lt; /etc/mail/authinfo</pre>
<p>You can then restart sendmail and it should work, the log file from the client sendmail server:</p>
<pre style="padding-left:30px;">May 14 02:51:01 ip-10-10-10-10 sendmail[3188]: q4E6p1aq005188: from=ec2-user, 
size=297,, nrcpts=1, msgid=&lt;<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="a795979695979296939791929689d693e291d796c6d6979794969f9fe7ced78a96978a96978a96978a969789c2c49589cec9d3c2d5c9c6cb">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>&gt;, 
<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="7b091e171a02460914140f3b1714181a171314080f">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>

May 14 02:51:01 ip-10-10-10-10 sendmail[3189]: q4E6p12W003189: 
from=&lt;<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="365355041b43455344765f461b07061b07061b07061b070618535504185f5842534458575a">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>&gt;, size=577,, nrcpts=1, 
msgid=&lt;<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="427072737072777376727477736c3376077432732333727271737a7a022b326f73726f73726f73726f73726c2721706c2b2c3627302c232e">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>&gt;, 
proto=ESMTP, daemon=MTA, relay=localhost.localdomain [127.0.0.1]

May 14 02:51:01 ip-10-10-10-10 sendmail[3188]: q4E6p1aq003188: 
<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="6f1b0052041a1d1b2f1c0a06091d060a0b41001d08">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>, ctladdr=ec2-user (1000/1000), delay=00:00:00, 
xdelay=00:00:00, mailer=relay, pri=30297, relay=[127.0.0.1] [127.0.0.1], 
dsn=2.0.0, stat=Sent (q4E6p12W003189 Message accepted for delivery)

May 14 02:51:01 ip-10-10-10-10 sendmail[3191]: STARTTLS=client, 
relay=smarthost.example.org., version=TLSv1/SSLv3, verify=FAIL, 
cipher=DHE-RSA-AES256-SHA, bits=256/256

May 14 02:51:02 ip-10-10-10-10 sendmail[3191]: q4E6p52W003189: 
to=&lt;<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="a2c9d7d0d6e2d1c7cbc4d0cbc7c68ccdd0c5">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>&gt;, ctladdr=&lt;<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="2b4e4819065e584e596b425b061a1b061a1b061a1b061a1b054e48190542455f4e59454a47">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>&gt; 
(1000/1000), delay=00:00:01, xdelay=00:00:01, mailer=relay, pri=120577, 
relay=smarthost.example.org. [1.2.3.4], dsn=2.0.0, stat=Sent 
(q4E6p1ZE001355 Message accepted for delivery)</pre>
<p>And on the server:</p>
<pre style="padding-left:30px;">May 14 02:49:48 ip-1-2-3-4 sendmail[1349]: STARTTLS=server, 
relay=ec2-1-2-3-4.compute-1.amazonaws.com [1.2.3.4] (may be forged), 
version=TLSv1/SSLv3, verify=NO, cipher=DHE-RSA-AES256-SHA, bits=256/256

May 14 02:49:48 ip-1-2-3-4 sendmail[1349]: AUTH=server, 
relay=ec2-1-2-3-4.compute-1.amazonaws.com [1.2.3.4] (may be forged), 
authid=email-client, mech=PLAIN, bits=0

May 14 02:49:48 ip-1-2-3-4 sendmail[1349]: q4E6nmgg001349: 
from=&lt;<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="4c292f7e61393f293e0c253c617d7c617d7c617d7c617d7c62292f7e62252238293e222d20">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>&gt;, size=795,, nrcpts=1, 
msgid=&lt;<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="c8faf8f9faf8fdf9fcf8fefcf1e6b9fc8dfea6a5ac8df8f8fbf9f0fa88a1b8e5f9f8e5f9f8e5f9f8e5f9f8e6adabfae6a1a6bcadbaa6a9a4">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>&gt;, 
proto=ESMTP, daemon=MSA, relay=ec2-1-2-3-4.compute-1.amazonaws.com 
[1.2.3.4] (may be forged)

May 14 02:49:49 ip-1-2-3-4 sendmail[1354]: STARTTLS=client, 
relay=aspmx.l.google.com., version=TLSv1/SSLv3, verify=FAIL, 
cipher=RC4-SHA, bits=128/128

May 14 02:49:49 ip-1-2-3-4 sendmail[1354]: q4E6nmgg001349: 
to=&lt;<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="c5aeb0b7b185b6a0aca3b7aca0a1ebaab7a2">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>&gt;, delay=00:00:01, xdelay=00:00:01, mailer=esmtp, 
pri=120795, relay=aspmx.l.google.com. [173.194.68.26], dsn=2.0.0, 
stat=Sent (OK 1336912345 gs11si19555555aaa.999)</pre>
<p>As you can see the email comes in, and is then handed off to gmail.</p>
</div>
<p class="postmetadata">Tags:<a href="http://kurt.seifried.org/tag/sendmail/" rel="tag">sendmail</a><br/> Posted in <a href="http://kurt.seifried.org/category/uncategorized/" rel="category tag">Uncategorized</a> | <a href="http://kurt.seifried.org/2012/05/14/fedora-16-and-red-hat-on-ec2-with-sendmail-using-smart_host-with-authentication/#comments">1 Comment &#187;</a></p>
</div>
<div class="post-165 post type-post status-publish format-standard hentry category-uncategorized tag-auditing tag-programming tag-security tag-tmp">
<h3 id="post-165"><a href="http://kurt.seifried.org/2012/03/14/creating-temporary-files-securely/" rel="bookmark">Creating temporary files&nbsp;securely</a></h3>
<small>March 14, 2012</small>
<div class="entry">
<p>Creating temporary files  is a common use case in virtually every program. Virtually every programming language has a simple and secure way to create temporary files. Sadly many programmers fail to use them, creating security vulnerabilities in their applications. So in alphabetical order here is a list of programming languages and how to create a temporary file securely. If I&#8217;m wrong, please let me know. Note: when searching for a secure temporary file creation function/method/etc. looking for &#8220;mkstemp&#8221; is a quick way to find most of them. Please note a lot of sites (e.g. <a href="http://rosettacode.org/wiki/Secure_temporary_file" rel="nofollow">http://rosettacode.org/wiki/Secure_temporary_file</a>) contain old/wrong information.</p>
<h2>O_CREAT and O_EXCL (and similar)</h2>
<p>When opening a temporary file in C you MUST use O_CREAT and O_EXCL together to ensure that the file is only created if the file does not exist. Otherwise between the time you check for the existence of a file and the time you create the file an attacker may be able to create a file with the same name. The good news here is that virtually every secure temporary file creation function/library does this or an equivalent option. To quote mkstemp():</p>
<blockquote><p>The mkstemp() function shall replace the contents of the string pointed to by template by a unique filename, and return a file descriptor for the file open for reading and writing. The function thus prevents any possible race condition between testing whether the file exists and opening it for use.</p></blockquote>
<h2><strong>Why &#8220;unique&#8221; names are not enough, but are generally not a huge problem</strong></h2>
<p>People often think that creating a file with a &#8220;unique&#8221; name in /tmp (e.g. &#8220;/tmp/myprogram-output.log&#8221;) is sufficient to safely create a temporary file. However if you create the file with a known or easily guessed name (e.g. a static name set in the source code or a config file) an attacker can create the file first and then your application will be unable to, creating a denial of service condition potentially.</p>
<p>However the names don&#8217;t have to be terribly unique. For example if you use mkstemp() with 10 random characters (the default) gives on the order of 839,299,365,868,340,224 possible file names. Any attacker able to create enough files to force a collision of the name would be able to fill up the /tmp directory in any event (unless you have an absurdly large /tmp directory that is several exabytes in size, which won&#8217;t be a problem for some time).</p>
<h2>Unexpected temporary files</h2>
<p>It should also be noted that many programs create temporary files. Text editors and other file editors may create temporary file saves in /tmp or /var/tmp and so on.</p>
<h2>The problem with $TMP, $TEMP, $TMPDIR, $TEMPDIR and so on</h2>
<p>One note: if you&#8217;re going to use environmental variables you&#8217;d better make sure you sanitize them and ensure they aren&#8217;t overly long. User controlled environmental variables are just that, user controlled. I can&#8217;t find a good set of libraries or code to sanitize these variables before use, if anyone knows of such a thing please contact me (<a href="/cdn-cgi/l/email-protection#f09b858284b08395999682999594de9f8297"><span class="__cf_email__" data-cfemail="ee859b9c9aae9d8b87889c878b8ac0819c89">[email&#160;protected]</span><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script></a>).</p>
<h2>Better list for lots of other languages:</h2>
<p>Please see <a href="http://rosettacode.org/wiki/Secure_temporary_file">http://rosettacode.org/wiki/Secure_temporary_file</a></p>
<h2><strong>Bash</strong></h2>
<p>Simply use &#8220;mktemp&#8221; (&#8220;man mktemp&#8221; for details). Use &#8220;-d&#8221; or &#8220;&#8211;directory&#8221; for creating directories.</p>
<h2><strong>C</strong></h2>
<p>use mkstemp() (&#8220;man mkstemp&#8221; for details) for files</p>
<p>use mkdtemp() (&#8220;man mkdtemp&#8221; for details) for directories</p>
<p>tmpfile() is another option &#8211; Creates a temporary binary file, open for update (wb+ mode &#8212; see fopen for details). The filename is guaranteed to be different from any other existing file.</p>
<h2><strong>C++</strong></h2>
<p>use mkstemp() (&#8220;man mkstemp&#8221; for details)</p>
<p>use mkdtemp() (&#8220;man mkdtemp&#8221; for details) for directories</p>
<p>tmpfile() is another option &#8211; Creates a temporary binary file, open for update (wb+ mode &#8212; see fopen for details). The filename is guaranteed to be different from any other existing file.</p>
<p>On Windows use GetTempPath() and GetTempFileName () (same names in C#)</p>
<h2><strong>C#</strong></h2>
<p>Path.GetTempFileName() <a href="http://msdn.microsoft.com/en-us/library/system.io.path.gettempfilename(v=vs.80).aspx">http://msdn.microsoft.com/en-us/library/system.io.path.gettempfilename(v=vs.80).aspx</a></p>
<h2><strong>Cocoa</strong></h2>
<p><a href="http://stackoverflow.com/questions/215820/how-do-i-create-a-temporary-file-with-cocoa">http://stackoverflow.com/questions/215820/how-do-i-create-a-temporary-file-with-cocoa</a></p>
<h2>Google Go (golang)</h2>
<p>So ioutil.TempDir and ioutil.TempFile automatically appends a uint32 and has default permissions of 0600. Well done.</p>
<p><a href="http://golang.org/pkg/io/ioutil/#TempDir">http://golang.org/pkg/io/ioutil/#TempDir</a></p>
<p>Use this and you&#8217;re safe. Just a note: io.TempDir returns the value of the temporary directly (e.g. /tmp).</p>
<h2><strong>Java</strong></h2>
<p>use java.io.File.createTempFile() &#8211; some interesting info at <a href="http://www.veracode.com/blog/2009/01/how-boring-flaws-become-interesting/">http://www.veracode.com/blog/2009/01/how-boring-flaws-become-interesting/</a></p>
<p>for directories there is a helpful posting at <a href="http://stackoverflow.com/questions/617414/create-a-temporary-directory-in-java">http://stackoverflow.com/questions/617414/create-a-temporary-directory-in-java</a></p>
<p><strong style="color:#2b6fb6;font-size:1.5em;">Java 7</strong></p>
<p>for files use java.io.File.createTempFile()</p>
<p>for directories use createTempDirectory()</p>
<p><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html">http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html</a></p>
<p><strong style="color:#2b6fb6;font-size:1.5em;">Lisp</strong></p>
<p><a href="http://stackoverflow.com/questions/1384972/common-lisp-function-or-idiom-for-creating-a-temporary-file-name">http://stackoverflow.com/questions/1384972/common-lisp-function-or-idiom-for-creating-a-temporary-file-name</a></p>
<h2>nodejs</h2>
<p><a href="http://stackoverflow.com/questions/7055061/nodejs-temporary-file-name">http://stackoverflow.com/questions/7055061/nodejs-temporary-file-name</a></p>
<h2><strong>Perl</strong></h2>
<p>use mkstemp()</p>
<p><a href="http://perldoc.perl.org/File/Temp.html#MKTEMP-FUNCTIONS">http://perldoc.perl.org/File/Temp.html#MKTEMP-FUNCTIONS</a></p>
<h2><strong>Python</strong></h2>
<p>Simply use &#8220;mkstemp&#8221; for files and &#8220;mkdtemp&#8221; for directories from the &#8220;tempfile&#8221; module:</p>
<p><a href="http://docs.python.org/library/tempfile.html#tempfile.mkstemp">http://docs.python.org/library/tempfile.html#tempfile.mkstemp</a></p>
<h2><strong>QT</strong></h2>
<p>use QTemporaryFile for files:</p>
<p><a href="http://qt-project.org/doc/qt-4.8/qtemporaryfile.html">http://qt-project.org/doc/qt-4.8/qtemporaryfile.html</a></p>
<p>use  for QTemporaryDir directories:</p>
<p><a href="http://qt-project.org/doc/qt-5.0/qtemporarydir.html">http://qt-project.org/doc/qt-5.0/qtemporarydir.html</a></p>
<h2><strong>Ruby</strong></h2>
<p>use Tempfile for files:</p>
<p><a href="http://www.ruby-doc.org/stdlib-1.9.3/libdoc/tempfile/rdoc/Tempfile.html#method-c-new">http://www.ruby-doc.org/stdlib-1.9.3/libdoc/tempfile/rdoc/Tempfile.html#method-c-new</a></p>
<p>use tmpdir for directories (require &#8216;tmpdir&#8217; and then you can &#8220;Dir.mktmpdir&#8221;):</p>
<p><a href="http://www.ruby-doc.org/stdlib-1.9.3/libdoc/tmpdir/rdoc/index.html" rel="nofollow">http://www.ruby-doc.org/stdlib-1.9.3/libdoc/tmpdir/rdoc/index.html</a></p>
<h2>Making per user /tmp directories</h2>
<p>Using PAM you can also make per user /tmp directories using polyinstantiation <a href="http://www.ibm.com/developerworks/linux/library/l-polyinstantiation/">http://www.ibm.com/developerworks/linux/library/l-polyinstantiation/</a></p>
<p>If you have a system with many users (e.g. a shell server or web host) this is a great way to avoid the whole /tmp mess at the system level rather than trying to ensure your applications are properly written.</p>
<h2>Monitoring /tmp for activity</h2>
<p>So how can we be sure our changes work and temporary directories and files are being created safely? Conversely how can we monitor /tmp to watch for programs that use /tmp improperly or in unsafe ways? Linux has an <a href="http://en.wikipedia.org/wiki/Inotify">inotify </a>subsystem that allows you to monitor a file(s) or directory(s) (including recursively) for file and directory related activity (creation, deletion, modification, etc.). The downside of inotify is that, as far as I can tell, there is no way to list which process was responsible (so if you have a large application and multiple applications running it may be difficult to track down which one specifically created the file/etc.</p>
<p>To use inotify use either the &#8220;inotify-tools&#8221; or &#8220;pyinotify&#8221; programs, I prefer pynitofy, the output is really easy to read:</p>
<pre style="padding-left:30px;"># /usr/bin/pyinotify /tmp/
&lt;Event dir=True mask=0x40000100 maskname=IN_CREATE|IN_ISDIR \
name=foo.ooCHP2tb1adt path=/tmp pathname=/tmp/foo.ooCHP2tb1adt wd=1 &gt;</pre>
<p>You can also use SELinux, running permissive mode simply disable all access to /tmp and then run your application(s). The log files will show any accesses of /tmp including the process information.</p>
<h2>Auditing for /tmp file vulnerabilities</h2>
<p>It&#8217;s not hard, mostly I just do:</p>
<pre style="padding-left:30px;">find ./ -type f -exec grep /tmp {} +</pre>
<p>and if they wrote the code using the above techniques it is probably safe, if it is written any other way it&#8217;s probably wrong.</p>
<h1>Which directory should you use?</h1>
<p>You should be using /var/run/something/ or /run/something/ that is setup in advance and secured for the users/groups that require it.</p>
</div>
<p class="postmetadata">Tags:<a href="http://kurt.seifried.org/tag/auditing/" rel="tag">auditing</a>, <a href="http://kurt.seifried.org/tag/programming/" rel="tag">programming</a>, <a href="http://kurt.seifried.org/tag/security/" rel="tag">security</a>, <a href="http://kurt.seifried.org/tag/tmp/" rel="tag">tmp</a><br/> Posted in <a href="http://kurt.seifried.org/category/uncategorized/" rel="category tag">Uncategorized</a> | <a href="http://kurt.seifried.org/2012/03/14/creating-temporary-files-securely/#comments">3 Comments &#187;</a></p>
</div>
<div class="navigation">
<div class="alignleft"><a href="http://kurt.seifried.org/category/uncategorized/page/2/">&laquo; Older Entries</a></div>
<div class="alignright"></div>
</div>
</div>
<div id="sidebar">
<ul>
<li id="blog_subscription-3" class="widget widget_blog_subscription"><h2 class="widgettitle"><label for="subscribe-field">Email Subscription</label></h2>
<form action="https://subscribe.wordpress.com" method="post" accept-charset="utf-8" id="subscribe-blog">
<p>Enter your email address to subscribe to this blog and receive notifications of new posts by email.</p>
<p>Join 14 other followers</p>
<p><input type="text" name="email" style="width: 95%; padding: 1px 2px" placeholder="Enter your email address" value="" id="subscribe-field"/></p>
<p>
<input type="hidden" name="action" value="subscribe"/>
<input type="hidden" name="blog_id" value="86342"/>
<input type="hidden" name="source" value="http://kurt.seifried.org/category/uncategorized/"/>
<input type="hidden" name="sub-type" value="widget"/>
<input type="hidden" name="redirect_fragment" value="blog_subscription-3"/>
<input type="hidden" id="_wpnonce" name="_wpnonce" value="321560f319"/> <input type="submit" value="Sign me up!"/>
</p>
</form>
</li>
<li id="wp_tag_cloud-2" class="widget wp_widget_tag_cloud"><h2 class="widgettitle">Tag Cloud</h2>
<div style="overflow:hidden"><a href='http://kurt.seifried.org/tag/ami/' class='tag-link-126820 tag-link-position-1' title='1 topic' style='font-size: 8pt;'>ami</a>
<a href='http://kurt.seifried.org/tag/auditing/' class='tag-link-84847 tag-link-position-2' title='1 topic' style='font-size: 8pt;'>auditing</a>
<a href='http://kurt.seifried.org/tag/aws/' class='tag-link-144203 tag-link-position-3' title='2 topics' style='font-size: 13.25pt;'>aws</a>
<a href='http://kurt.seifried.org/tag/beanstalk/' class='tag-link-1980937 tag-link-position-4' title='1 topic' style='font-size: 8pt;'>beanstalk</a>
<a href='http://kurt.seifried.org/tag/bing/' class='tag-link-34399 tag-link-position-5' title='1 topic' style='font-size: 8pt;'>bing</a>
<a href='http://kurt.seifried.org/tag/bitcoin/' class='tag-link-36507086 tag-link-position-6' title='1 topic' style='font-size: 8pt;'>bitcoin</a>
<a href='http://kurt.seifried.org/tag/ca/' class='tag-link-23572 tag-link-position-7' title='1 topic' style='font-size: 8pt;'>ca</a>
<a href='http://kurt.seifried.org/tag/chrome/' class='tag-link-367314 tag-link-position-8' title='1 topic' style='font-size: 8pt;'>chrome</a>
<a href='http://kurt.seifried.org/tag/currency/' class='tag-link-123802 tag-link-position-9' title='1 topic' style='font-size: 8pt;'>currency</a>
<a href='http://kurt.seifried.org/tag/dsk/' class='tag-link-435979 tag-link-position-10' title='1 topic' style='font-size: 8pt;'>dsk</a>
<a href='http://kurt.seifried.org/tag/ebs/' class='tag-link-412792 tag-link-position-11' title='1 topic' style='font-size: 8pt;'>ebs</a>
<a href='http://kurt.seifried.org/tag/ec2/' class='tag-link-315451 tag-link-position-12' title='1 topic' style='font-size: 8pt;'>ec2</a>
<a href='http://kurt.seifried.org/tag/economics/' class='tag-link-657 tag-link-position-13' title='1 topic' style='font-size: 8pt;'>economics</a>
<a href='http://kurt.seifried.org/tag/fedora/' class='tag-link-611 tag-link-position-14' title='1 topic' style='font-size: 8pt;'>Fedora</a>
<a href='http://kurt.seifried.org/tag/gnome3/' class='tag-link-8792038 tag-link-position-15' title='1 topic' style='font-size: 8pt;'>gnome3</a>
<a href='http://kurt.seifried.org/tag/hardware-2/' class='tag-link-9285985 tag-link-position-16' title='1 topic' style='font-size: 8pt;'>hardware</a>
<a href='http://kurt.seifried.org/tag/hbr/' class='tag-link-564713 tag-link-position-17' title='1 topic' style='font-size: 8pt;'>hbr</a>
<a href='http://kurt.seifried.org/tag/infosec/' class='tag-link-52624 tag-link-position-18' title='4 topics' style='font-size: 19.666666666667pt;'>infosec</a>
<a href='http://kurt.seifried.org/tag/ipv6/' class='tag-link-10414 tag-link-position-19' title='2 topics' style='font-size: 13.25pt;'>ipv6</a>
<a href='http://kurt.seifried.org/tag/iscsi/' class='tag-link-42965 tag-link-position-20' title='1 topic' style='font-size: 8pt;'>iscsi</a>
<a href='http://kurt.seifried.org/tag/iscsi-target/' class='tag-link-6470038 tag-link-position-21' title='1 topic' style='font-size: 8pt;'>iscsi target</a>
<a href='http://kurt.seifried.org/tag/json/' class='tag-link-72721 tag-link-position-22' title='1 topic' style='font-size: 8pt;'>json</a>
<a href='http://kurt.seifried.org/tag/kerberos/' class='tag-link-649626 tag-link-position-23' title='1 topic' style='font-size: 8pt;'>kerberos</a>
<a href='http://kurt.seifried.org/tag/memcache/' class='tag-link-2404263 tag-link-position-24' title='1 topic' style='font-size: 8pt;'>memcache</a>
<a href='http://kurt.seifried.org/tag/microsoft/' class='tag-link-637 tag-link-position-25' title='1 topic' style='font-size: 8pt;'>microsoft</a>
<a href='http://kurt.seifried.org/tag/openbsd/' class='tag-link-15262 tag-link-position-26' title='3 topics' style='font-size: 16.75pt;'>openbsd</a>
<a href='http://kurt.seifried.org/tag/performance/' class='tag-link-1930 tag-link-position-27' title='5 topics' style='font-size: 22pt;'>performance</a>
<a href='http://kurt.seifried.org/tag/programming/' class='tag-link-196 tag-link-position-28' title='2 topics' style='font-size: 13.25pt;'>programming</a>
<a href='http://kurt.seifried.org/tag/python-2/' class='tag-link-27143169 tag-link-position-29' title='3 topics' style='font-size: 16.75pt;'>python</a>
<a href='http://kurt.seifried.org/tag/pyton/' class='tag-link-3933214 tag-link-position-30' title='1 topic' style='font-size: 8pt;'>pyton</a>
<a href='http://kurt.seifried.org/tag/sanitizing/' class='tag-link-2249863 tag-link-position-31' title='1 topic' style='font-size: 8pt;'>sanitizing</a>
<a href='http://kurt.seifried.org/tag/security/' class='tag-link-801 tag-link-position-32' title='5 topics' style='font-size: 22pt;'>security</a>
<a href='http://kurt.seifried.org/tag/selinux/' class='tag-link-1093416 tag-link-position-33' title='2 topics' style='font-size: 13.25pt;'>SELinux</a>
<a href='http://kurt.seifried.org/tag/sendmail/' class='tag-link-151536 tag-link-position-34' title='1 topic' style='font-size: 8pt;'>sendmail</a>
<a href='http://kurt.seifried.org/tag/simulators/' class='tag-link-24955 tag-link-position-35' title='1 topic' style='font-size: 8pt;'>simulators</a>
<a href='http://kurt.seifried.org/tag/smuggling/' class='tag-link-303838 tag-link-position-36' title='1 topic' style='font-size: 8pt;'>smuggling</a>
<a href='http://kurt.seifried.org/tag/spam/' class='tag-link-652 tag-link-position-37' title='3 topics' style='font-size: 16.75pt;'>spam</a>
<a href='http://kurt.seifried.org/tag/ssd/' class='tag-link-248864 tag-link-position-38' title='1 topic' style='font-size: 8pt;'>ssd</a>
<a href='http://kurt.seifried.org/tag/ssl/' class='tag-link-58302 tag-link-position-39' title='1 topic' style='font-size: 8pt;'>ssl</a>
<a href='http://kurt.seifried.org/tag/storage/' class='tag-link-3386 tag-link-position-40' title='1 topic' style='font-size: 8pt;'>storage</a>
<a href='http://kurt.seifried.org/tag/tablet/' class='tag-link-7939 tag-link-position-41' title='1 topic' style='font-size: 8pt;'>tablet</a>
<a href='http://kurt.seifried.org/tag/testing/' class='tag-link-12 tag-link-position-42' title='1 topic' style='font-size: 8pt;'>testing</a>
<a href='http://kurt.seifried.org/tag/tmp/' class='tag-link-71355 tag-link-position-43' title='1 topic' style='font-size: 8pt;'>tmp</a>
<a href='http://kurt.seifried.org/tag/usability/' class='tag-link-753 tag-link-position-44' title='1 topic' style='font-size: 8pt;'>usability</a>
<a href='http://kurt.seifried.org/tag/vmware/' class='tag-link-38600 tag-link-position-45' title='1 topic' style='font-size: 8pt;'>vmware</a>
<a href='http://kurt.seifried.org/tag/webpad/' class='tag-link-1523589 tag-link-position-46' title='1 topic' style='font-size: 8pt;'>webpad</a>
<a href='http://kurt.seifried.org/tag/wordpress/' class='tag-link-33 tag-link-position-47' title='1 topic' style='font-size: 8pt;'>Wordpress</a>
<a href='http://kurt.seifried.org/tag/wp-super-cache/' class='tag-link-4732947 tag-link-position-48' title='1 topic' style='font-size: 8pt;'>WP-Super-Cache</a></div></li>
<li id="pages-3" class="widget widget_pages"><h2 class="widgettitle">Pages</h2>
<ul>
<li class="page_item page-item-2"><a href="http://kurt.seifried.org/about/">About</a></li>
<li class="page_item page-item-162"><a href="http://kurt.seifried.org/free-cloud-services/">Free cloud services</a></li>
<li class="page_item page-item-302"><a href="http://kurt.seifried.org/gov-cloud-standards/">Gov Cloud Standards</a></li>
<li class="page_item page-item-277"><a href="http://kurt.seifried.org/license-for-content-on-this-site/">License for content on this&nbsp;site</a></li>
<li class="page_item page-item-115"><a href="http://kurt.seifried.org/linux-cloud-software-and-projects/">Linux Cloud Software and&nbsp;Projects</a></li>
<li class="page_item page-item-96"><a href="http://kurt.seifried.org/professional-writing-samples/">Professional Writing Samples</a></li>
<li class="page_item page-item-102"><a href="http://kurt.seifried.org/python-programming/">Python Programming</a></li>
<li class="page_item page-item-254"><a href="http://kurt.seifried.org/ruby-ruby-on-rails-programming/">Ruby / Ruby on Rails&nbsp;Programming</a></li>
<li class="page_item page-item-247"><a href="http://kurt.seifried.org/worth-reading/">Worth Reading</a></li>
<li class="page_item page-item-176"><a href="http://kurt.seifried.org/worth-watching/">Worth Watching</a></li>
</ul>
</li>
<li id="categories-2" class="widget widget_categories"><h2 class="widgettitle">Categories</h2>
<ul>
<li class="cat-item cat-item-79"><a href="http://kurt.seifried.org/category/hardware/">Hardware</a>
</li>
<li class="cat-item cat-item-15230"><a href="http://kurt.seifried.org/category/information-security/" title="Information Security">Information Security</a>
</li>
<li class="cat-item cat-item-3374"><a href="http://kurt.seifried.org/category/kids/">kids</a>
</li>
<li class="cat-item cat-item-610"><a href="http://kurt.seifried.org/category/linux/">Linux</a>
</li>
<li class="cat-item cat-item-832"><a href="http://kurt.seifried.org/category/python/">Python</a>
</li>
<li class="cat-item cat-item-1 current-cat"><a href="http://kurt.seifried.org/category/uncategorized/">Uncategorized</a>
</li>
</ul>
</li>
<li id="rss_links-3" class="widget widget_rss_links"><h2 class="widgettitle">RSS Feed</h2>
<ul><li><a href="http://kurt.seifried.org/feed/" title="Subscribe to Posts">RSS - Posts</a></li></ul>
</li>
<li id="meta" class="widget widget_kubrick_meta"> <h2 class="widgettitle">Meta</h2>
<ul>
<li><a href="https://wordpress.com/start?ref=wplogin">Register</a></li> <li><a href="https://kurtseifried.wordpress.com/wp-login.php">Log in</a></li>
<li><a href="http://validator.w3.org/check/referer" title="This page validates as XHTML 1.0 Transitional">Valid <abbr title="eXtensible HyperText Markup Language">XHTML</abbr></a></li>
<li><a href="http://gmpg.org/xfn/"><abbr title="XHTML Friends Network">XFN</abbr></a></li>
<li><a href="https://wordpress.com/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.com</a></li>
</ul>
</li>
</ul>
</div>
<hr/>
<div id="footer">
<p>
<a href="https://wordpress.com/?ref=footer_blog">Blog at WordPress.com.</a>
<br/><a href="http://kurt.seifried.org/feed/">Entries (RSS)</a> and <a href="http://kurt.seifried.org/comments/feed/">Comments (RSS)</a>. </p>
</div>
</div>
 
<div style="display:none">
</div>
<script type='text/javascript'>
/* <![CDATA[ */
var actionbardata = {"siteID":"86342","siteName":"Kurt Seifried","siteURL":"http:\/\/kurt.seifried.org","icon":"<img alt='' src='https:\/\/s1.wp.com\/i\/void.gif' class='avatar avatar-36' height='36' width='36' \/>","canManageOptions":"","canCustomizeSite":"","isFollowing":"","themeSlug":"pub\/kubrick","signupURL":"https:\/\/wordpress.com\/start\/","loginURL":"https:\/\/kurtseifried.wordpress.com\/wp-login.php?redirect_to=http%3A%2F%2Fkurt.seifried.org%2F2013%2F08%2F17%2Fwhy-i-love-opensource-adding-csv-export-capability-to-mailman%2F","themeURL":"","xhrURL":"http:\/\/kurt.seifried.org\/wp-admin\/admin-ajax.php","nonce":"c5d9519be6","isSingular":"","isFolded":"","isLoggedIn":"","isMobile":"","subscribeNonce":"<input type=\"hidden\" id=\"_wpnonce\" name=\"_wpnonce\" value=\"321560f319\" \/>","referer":"http:\/\/kurt.seifried.org\/category\/uncategorized\/","canFollow":"1","statusMessage":"","customizeLink":"https:\/\/kurtseifried.wordpress.com\/wp-admin\/customize.php?url=https%3A%2F%2Fkurtseifried.wordpress.com%2Fcategory%2Funcategorized%2F","i18n":{"view":"View Site","follow":"Follow","following":"Following","edit":"Edit","login":"Log In","signup":"Sign Up","customize":"Customize","report":"Report this content","themeInfo":"Get theme: Kubrick","shortlink":"Copy shortlink","copied":"Copied","followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar","editFollows":"Manage Sites I Follow","editSubs":"Manage Subscriptions","viewReader":"View Site in the Reader","subscribe":"Sign me up","enterEmail":"Enter your email address","followers":"","alreadyUser":"Already have a WordPress.com account? <a href=\"https:\/\/kurtseifried.wordpress.com\/wp-login.php?redirect_to=http%3A%2F%2Fkurt.seifried.org%2F2013%2F08%2F17%2Fwhy-i-love-opensource-adding-csv-export-capability-to-mailman%2F\">Log in now.<\/a>"}};
/* ]]> */
</script>
<script type='text/javascript' src='https://s1.wp.com/_static/??-eJx9jEEOwiAQRS8kjqamdWM8C8KkDsKAM1A9vnTTuOru5f+XB59iXOaKXCEoeFzIYfkegx7g70rNlNhmYoVIL1R4N2z4tOwjyo5sfSI2DyuQrFaUTiYvKEK+R7Ztr+AqZV4LG3X7nm7nyzQOw3WcTuEH0yxJEw=='></script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script> <script>
			var _comscore = _comscore || [];
			_comscore.push({
				c1: "2",
				c2: "7518284"
			});
			(function() {
				var s = document.createElement("script"),
					el = document.getElementsByTagName("script")[0];
				s.async = true;
				s.src = (document.location.protocol == "https:" ? "https://sb" : "http://b") + ".scorecardresearch.com/beacon.js";
				el.parentNode.insertBefore(s, el);
			})();
		</script>
<noscript>
<p class="robots-nocontent"><img src="http://b.scorecardresearch.com/p?c1=2&c2=7518284&c3=&c4=&c5=&c6=&c15=&cv=2.0&cj=1" alt="" style="display:none;" width="1" height="1"/></p>
</noscript><script src="//stats.wp.com/w.js?55" type="text/javascript" async defer></script>
<script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'86342','blog_tz':'-7','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'86342','v':'wpcom','tz':'-7','user_id':'0','subd':'kurtseifried'}]);
_stq.push(['extra', {'crypt':'UE40eW5QN0p8M2Y/RE1LVmwrVi5vQS5fVFtfdHBbPyw1VXIrU3hWLHhmcmw0bWUwNiVnR3N1V2dDZTM4MGFxVndRQl1HNkJtOEQ0dVBbbk9jP2g4T29lWFFNL1JxLTBRMVBJR09NTGdzXz04YlElWHd0VnZXLitYNDE1enBwZGJ8eDB0MkxQNXdWLzM2V3xDfHoyNV1laDRGV3lxWW9XQXF8YSttUmU3YlFEcGtLd1B3bGpKa3d3ZmhsSncxRHhFUW1NeTF4NWV1P2MybHRIVy1fLVVGMStCM2NnTSVaJVtrdT09fHBBM1NPfFRUdmVpbHxNUTAvdj9sSFIxY0FKYlhkV1NRY005MmtdR2RhU0IuPVBMWk9acUMlSjlhSVozeXl0NzlhST03WFRRaFtta1g4'}]);
_stq.push([ 'clickTrackerInit', '86342', '0' ]);
	</script>
<noscript><img src="http://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt=""/></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script><script type="text/javascript">/* <![CDATA[ */(function(d,s,a,i,j,r,l,m,t){try{l=d.getElementsByTagName('a');t=d.createElement('textarea');for(i=0;l.length-i;i++){try{a=l[i].href;s=a.indexOf('/cdn-cgi/l/email-protection');m=a.length;if(a&&s>-1&&m>28){j=28+s;s='';if(j<m){r='0x'+a.substr(j,2)|0;for(j+=2;j<m&&a.charAt(j)!='X';j+=2)s+='%'+('0'+('0x'+a.substr(j,2)^r).toString(16)).slice(-2);j++;s=decodeURIComponent(s)+a.substr(j,m-j)}t.innerHTML=s.replace(/</g,'&lt;').replace(/>/g,'&gt;');l[i].href='mailto:'+t.value}}catch(e){}}}catch(e){}})(document);/* ]]> */</script></body>
</html>
