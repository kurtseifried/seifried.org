<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<title>Kurt Seifried | Just another blog from just another guy (kurt@seifried.org) | Page 2</title>
<link rel="pingback" href="http://kurt.seifried.org/xmlrpc.php"/>
<script src='https://r-login.wordpress.com/remote-login.php?action=js&amp;host=kurt.seifried.org&amp;id=86342&amp;t=1480695493&amp;back=http%3A%2F%2Fkurt.seifried.org%2Fpage%2F2%2F' type="text/javascript"></script>
<script type="text/javascript">
		/* <![CDATA[ */
			if ( 'function' === typeof WPRemoteLogin ) {
				document.cookie = "wordpress_test_cookie=test; path=/";
				if ( document.cookie.match( /(;|^)\s*wordpress_test_cookie\=/ ) ) {
					WPRemoteLogin();
				}
			}
		/* ]]> */
		</script>
<link rel='dns-prefetch' href='//s2.wp.com'/>
<link rel='dns-prefetch' href='//s0.wp.com'/>
<link rel='dns-prefetch' href='//kurtseifried.wordpress.com'/>
<link rel='dns-prefetch' href='//s1.wp.com'/>
<link rel="alternate" type="application/rss+xml" title="Kurt Seifried &raquo; Feed" href="http://kurt.seifried.org/feed/"/>
<link rel="alternate" type="application/rss+xml" title="Kurt Seifried &raquo; Comments Feed" href="http://kurt.seifried.org/comments/feed/"/>
<script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script>
<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s1.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1473172720h&ver=4.6.1-RC1-38499"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
<style type="text/css">img.wp-smiley,img.emoji{display:inline!important;border:none!important;box-shadow:none!important;height:1em!important;width:1em!important;margin:0 .07em!important;vertical-align:-0.1em!important;background:none!important;padding:0!important;}</style>
<link rel='stylesheet' id='all-css-0-1' href='https://s0.wp.com/_static/??-eJx9jUEOAiEMRS8kNphRVsazADYOA2UaCpl4e0HjSjOb5vfnvXzYWPk1V8wVqClO7RGyQAoRBRasbH1U7+/oRQ7wH/drwd4T2zoIwnuwmJA6tqcRX77WiHPf2p3ZuNPKOS4oovql0EjVuQ/9ep8auDmIzZXgI0h9Jhzgja56mrTRZ2NOywvlj2BK' type='text/css' media='all'/>
<!--[if lte IE 8]>
<link rel='stylesheet' id='kubrick-ie-css'  href='https://s0.wp.com/wp-content/themes/pub/kubrick/ie.css?m=1273203575h&#038;ver=4.6.1-RC1-38499' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='all-css-2-1' href='https://s2.wp.com/_static/??-eJx9i8sKgCAQAH8oWwSjOkTfYmLLhrrig34/u0Rdus3ADBAELmQ45Ad6k3MHZxRNig0FfBXRVaTWoGXh2OhCHD4idqcp/a3Jbo6xIUKrXnpPq1+kGmalplGq4wKxyTcd' type='text/css' media='all'/>
<link rel='stylesheet' id='print-css-3-1' href='https://s0.wp.com/wp-content/mu-plugins/global-print/global-print.css?m=1465851035h' type='text/css' media='print'/>
<link rel='stylesheet' id='all-css-4-1' href='https://s1.wp.com/_static/??/wp-content/mu-plugins/actionbar/actionbar.css,/wp-content/themes/h4/global.css?m=1479929846j' type='text/css' media='all'/>
<script type='text/javascript' src='https://s0.wp.com/_static/??-eJyFzt0KwjAMBeAXsiv+Tb0Qn6WrcaQuaW1Shz69HeiFMBQCgZyPQ+yYDLIfyhnEhjq3AvnxXk2Qhf0FDGGfnUJDyB/sIyuwTpZihwOYIpBdX2+16BJnXIqiBCIVzaTfLyHfEca/LIAm568mg+Bzaj3Rcblp2+1qfdjtwws0V1vd'></script>
<link rel='stylesheet' id='all-css-0-2' href='https://s1.wp.com/wp-content/mu-plugins/highlander-comments/style.css?m=1377793621h' type='text/css' media='all'/>
<!--[if lt IE 8]>
<link rel='stylesheet' id='highlander-comments-ie7-css'  href='https://s1.wp.com/wp-content/mu-plugins/highlander-comments/style-ie7.css?m=1351637563h&#038;ver=20110606' type='text/css' media='all' />
<![endif]-->
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://kurtseifried.wordpress.com/xmlrpc.php?rsd"/>
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s1.wp.com/wp-includes/wlwmanifest.xml"/>
<meta name="generator" content="WordPress.com"/>
<link rel='shortlink' href='http://wp.me/msC'/>
 
<meta property="og:type" content="website"/>
<meta property="og:title" content="Kurt Seifried"/>
<meta property="og:description" content="Just another blog from just another guy (kurt@seifried.org)"/>
<meta property="og:url" content="http://kurt.seifried.org/"/>
<meta property="og:site_name" content="Kurt Seifried"/>
<meta property="og:image" content="https://s0.wp.com/i/blank.jpg"/>
<meta property="og:locale" content="en_US"/>
<meta name="twitter:site" content="@wordpressdotcom"/>
<link rel="shortcut icon" type="image/x-icon" href="https://s2.wp.com/i/favicon.ico" sizes="16x16 24x24 32x32 48x48"/>
<link rel="icon" type="image/x-icon" href="https://s2.wp.com/i/favicon.ico" sizes="16x16 24x24 32x32 48x48"/>
<link rel="apple-touch-icon-precomposed" href="https://s0.wp.com/i/webclip.png"/>
<link rel='openid.server' href='http://kurtseifried.wordpress.com/?openidserver=1'/>
<link rel='openid.delegate' href='http://kurtseifried.wordpress.com/'/>
<link rel="search" type="application/opensearchdescription+xml" href="http://kurt.seifried.org/osd.xml" title="Kurt Seifried"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com"/>
<style type='text/css'><!--
body { background: url("https://s0.wp.com/wp-content/themes/pub/kubrick/images/kubrickbgcolor.gif"); }
#page { background: url("https://s0.wp.com/wp-content/themes/pub/kubrick/images/kubrickbg.gif") repeat-y top; border: none; }
#header { background: url("https://s0.wp.com/wp-content/themes/pub/kubrick/images/kubrickheader.gif") no-repeat bottom center; }
#footer { background: url("https://s0.wp.com/wp-content/themes/pub/kubrick/images/kubrickfooter.gif") no-repeat bottom; border: none;}
#header { margin: 0 !important; margin: 0 0 0 1px; padding: 1px; height: 198px; width: 758px; }
#headerimg { margin: 7px 9px 0; height: 192px; width: 740px; }
#headerimg h1 a, #headerimg h1 a:visited, #headerimg .description { color: ; }
#headerimg h1 a, #headerimg .description { display:  }

	--></style><meta name="application-name" content="Kurt Seifried"/><meta name="msapplication-window" content="width=device-width;height=device-height"/><meta name="msapplication-tooltip" content="Just another blog from just another guy (kurt@seifried.org)"/><meta name="msapplication-task" content="name=Subscribe;action-uri=http://kurt.seifried.org/feed/;icon-uri=https://s2.wp.com/i/favicon.ico"/><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=http://s2.wp.com/i/favicon.ico"/><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=http://s2.wp.com/i/favicon.ico"/><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=http://s2.wp.com/i/favicon.ico"/><meta name="title" content="Kurt Seifried on WordPress.com"/>
<meta name="description" content="Just another blog from just another guy (kurt@seifried.org)"/>
<style type="text/css" id="syntaxhighlighteranchor"></style>
</head>
<body class="home blog paged paged-2 mp6 customizer-styles-applied highlander-enabled highlander-light">
<div id="page">
<div id="header">
<div id="headerimg" onclick=" location.href='http://kurt.seifried.org';" style="cursor: pointer;">
<h1><a href="http://kurt.seifried.org/">Kurt Seifried</a></h1>
<div class="description">Just another blog from just another guy (<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="4c27393e380c3f29252a3e25292862233e2b">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>)</div>
</div>
</div>
<hr/>
<div id="content" class="narrowcolumn">
<div class="post-265 post type-post status-publish format-standard hentry category-uncategorized tag-hbr tag-spam" id="post-265">
<h2><a href="http://kurt.seifried.org/2013/03/01/new-techniques-in-spam-from-the-harvard-business-review-hbr/" rel="bookmark">New techniques in spam from the Harvard Business Review&nbsp;(HBR)</a></h2>
<small>March 1, 2013 </small>
<div class="entry">
<p>No this isn&#8217;t about an article in the Harvard Business Review (HBR), this is actually about spam from the Harvard Business Review. A long time ago I signed up for a year since I got one of those &#8220;get the magazine for $19.95 a year&#8221; offers and figured why not. I then cancelled at the end since I didn&#8217;t find the magazine terribly interesting or forward looking (it seems to mostly reflect an entrenched view of business/law that while useful for existing managers is not terribly education, unlike say the Economist which I still read).</p>
<p>So what&#8217;s this new spam technique from the Harvard Business Review? Well they sent me an email, informing me that I had not completed an order at their online store and that my shopping cart still had items in it. This is a pretty clever social engineering technique, they&#8217;re prompting you and leading you to believe that you had meant to renew your Harvard Business Review subscription and obviously got distracted or something so you might want to finish the process and send them some money. Except I hadn&#8217;t been shopping on their web site (my subscription lapsed a few years ago).</p>
<p><a href="http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email.png"><img class="aligncenter size-full wp-image-267" alt="Harvard-Business-Review-Spam-Email" src="http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email.png?w=450&#038;h=431" width="450" height="431" srcset="http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email.png?w=450&amp;h=431 450w, http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email.png?w=150&amp;h=144 150w, http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email.png?w=300&amp;h=288 300w, http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email.png 666w" sizes="(max-width: 450px) 100vw, 450px"/></a></p>
<p>So I went to unsubscribe (who knows, they might actually stop emailing me), but that part of the process was also engineered to make it difficult, first step: make the person enter their email address rather then filling the form (and they know the email address, I mean they just spammed me):</p>
<p><a href="http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe.png"><img class="aligncenter size-full wp-image-268" alt="Harvard-Business-Review-Spam-Email-Unsubscribe" src="http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe.png?w=450&#038;h=187" width="450" height="187" srcset="http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe.png?w=450&amp;h=187 450w, http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe.png?w=150&amp;h=62 150w, http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe.png?w=300&amp;h=125 300w, http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe.png?w=768&amp;h=319 768w, http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe.png 808w" sizes="(max-width: 450px) 100vw, 450px"/></a></p>
<p>But then the piece de resistance:</p>
<p><a href="http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe-10-days.png"><img class="aligncenter size-full wp-image-269" alt="Harvard-Business-Review-Spam-Email-Unsubscribe-10-Days" src="http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe-10-days.png?w=450&#038;h=123" width="450" height="123" srcset="http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe-10-days.png?w=450&amp;h=123 450w, http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe-10-days.png?w=150&amp;h=41 150w, http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe-10-days.png?w=300&amp;h=82 300w, http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe-10-days.png?w=768&amp;h=210 768w, http://kurtseifried.files.wordpress.com/2013/03/harvard-business-review-spam-email-unsubscribe-10-days.png 808w" sizes="(max-width: 450px) 100vw, 450px"/></a></p>
<p>Up to 10 days to remove you from a mailing list. What. The. Fuck? So yeah, the moral of the story is use the &#8220;spam&#8221; button in your mail client and deep six all the crap Harvard Business Review is going to try sending you.</p>
</div>
<p class="postmetadata">Tags: <a href="http://kurt.seifried.org/tag/hbr/" rel="tag">hbr</a>, <a href="http://kurt.seifried.org/tag/spam/" rel="tag">spam</a><br/> Posted in <a href="http://kurt.seifried.org/category/uncategorized/" rel="category tag">Uncategorized</a> | <a href="http://kurt.seifried.org/2013/03/01/new-techniques-in-spam-from-the-harvard-business-review-hbr/#respond">Leave a Comment &#187;</a></p>
</div>
<div class="post-241 post type-post status-publish format-standard hentry category-information-security category-linux tag-chrome tag-kerberos" id="post-241">
<h2><a href="http://kurt.seifried.org/2012/11/24/google-chrome-and-kerberos-on-linux/" rel="bookmark">Google Chrome and Kerberos on&nbsp;Linux</a></h2>
<small>November 24, 2012 </small>
<div class="entry">
<p>So we all know you can enable Kerberos by adding the &#8220;&#8211;auth-server-whitelist&#8221; to the command line:</p>
<pre style="padding-left:30px;">google-chrome --auth-server-whitelist="*.example.org"</pre>
<p>But you can also make it permanent. Simply create a directory (in Linux) called /etc/opt/chrome/policies/managed/ and within it drop a json file such as example-corp.json with the following contents:</p>
<pre style="padding-left:30px;">{ "AuthServerWhitelist": "*.example.org",
"AuthNegotiateDelegateWhitelist": "*.example.org" }</pre>
<p>And voila, no need to fiddle the command line options every time you start Chrome. Plus as an administrator you can simply deploy that file automatically across all your workstations and not have to bother the users, things will just work.</p>
</div>
<p class="postmetadata">Tags: <a href="http://kurt.seifried.org/tag/chrome/" rel="tag">chrome</a>, <a href="http://kurt.seifried.org/tag/kerberos/" rel="tag">kerberos</a><br/> Posted in <a href="http://kurt.seifried.org/category/information-security/" rel="category tag">Information Security</a>, <a href="http://kurt.seifried.org/category/linux/" rel="category tag">Linux</a> | <a href="http://kurt.seifried.org/2012/11/24/google-chrome-and-kerberos-on-linux/#comments">3 Comments &#187;</a></p>
</div>
<div class="post-236 post type-post status-publish format-standard hentry category-uncategorized tag-simulators" id="post-236">
<h2><a href="http://kurt.seifried.org/2012/09/27/circuit-and-logic-simulators/" rel="bookmark">Circuit and Logic&nbsp;Simulators</a></h2>
<small>September 27, 2012 </small>
<div class="entry">
<p>These look like fun</p>
<ul>
<li>Andreas Tetzl&#8217;s Logic simulators: <a href="http://www.tetzl.de/java_logic_simulator.html">http://www.tetzl.de/java_logic_simulator.html</a></li>
<li>Atanua: <a href="http://sol.gfxile.net/atanua/index.html">http://sol.gfxile.net/atanua/index.html</a></li>
<li>Board Drawing: <a href="http://3d2f.com/programs/84-182-board-drawing-download.shtml">http://3d2f.com/programs/84-182-board-drawing-download.shtml</a></li>
<li>Circuitlab: <a href="https://www.circuitlab.com/">https://www.circuitlab.com/</a></li>
<li>Circuit Maker: <a href="http://my.ece.ucsb.edu/bobsclass/2C/Simulation/circuit_maker.htm">http://my.ece.ucsb.edu/bobsclass/2C/Simulation/circuit_maker.htm</a></li>
<li>Circuit Simulator Applet: <a href="http://www.falstad.com/circuit/">http://www.falstad.com/circuit/</a></li>
<li>DesignWorksMac: <a href="http://www.capilano.com/dwm45.html">http://www.capilano.com/dwm45.html</a></li>
<li>Hades Simulation Framework: <a href="http://tams-www.informatik.uni-hamburg.de/applets/hades/webdemos/index.html">http://tams-www.informatik.uni-hamburg.de/applets/hades/webdemos/index.html</a></li>
<li>Linear Technology: <a href="http://www.linear.com/designtools/software/">http://www.linear.com/designtools/software/</a></li>
<li>Logic Friday: <a href="http://sontrak.com/index.html">http://sontrak.com/index.html</a></li>
<li>Logic Lab: <a href="http://www.neuroproductions.be/logic-lab/">http://www.neuroproductions.be/logic-lab/</a></li>
<li>Logic.ly: <a href="http://logic.ly/">http://logic.ly/</a></li>
<li>Logisim: <a href="http://ozark.hendrix.edu/~burch/logisim/">http://ozark.hendrix.edu/~burch/logisim/</a></li>
<li>MMLogic: <a href="http://www.softronix.com/logic.html">http://www.softronix.com/logic.html</a></li>
</ul>
<p>I wonder if there any good ones for the iPad.</p>
</div>
<p class="postmetadata">Tags: <a href="http://kurt.seifried.org/tag/simulators/" rel="tag">simulators</a><br/> Posted in <a href="http://kurt.seifried.org/category/uncategorized/" rel="category tag">Uncategorized</a> | <a href="http://kurt.seifried.org/2012/09/27/circuit-and-logic-simulators/#respond">Leave a Comment &#187;</a></p>
</div>
<div class="post-207 post type-post status-publish format-standard hentry category-uncategorized tag-sanitizing tag-security" id="post-207">
<h2><a href="http://kurt.seifried.org/2012/07/04/how-not-to-post-log-information-or-why-i-shred-every-piece-of-paper-i-touch/" rel="bookmark">How not to post log information, or why I shred every piece of paper I&nbsp;touch</a></h2>
<small>July 4, 2012 </small>
<div class="entry">
<p>So this thread just came to my attention: <a href="http://comments.gmane.org/gmane.mail.postfix.user/227441">http://comments.gmane.org/gmane.mail.postfix.user/227441</a></p>
<div style="padding-left:30px;">I use postfix2.5.5 rpm to run postfix as relay server</div>
<div style="padding-left:30px;">since from last many day my application team of SAP software started complaining for the smtp email failuer</div>
<div style="padding-left:30px;">pls find the below longs</div>
<div style="padding-left:30px;">++++++++++++++++++++++++++++++++++++++++++++</div>
<div style="padding-left:30px;">
<p style="padding-left:30px;">Email 1</p>
<p style="padding-left:30px;">Feb  6 10:41:22 D1SNX682RL postfix/smtpd[3693]: connect from unknown[155.14.132.36]<br/>
Feb  6 10:41:23 D1SNX682RL postfix/smtpd[3693]: 20C453E00C0: client=unknown[155.14.132.36]<br/>
Feb  6 10:41:23 D1SNX682RL postfix/cleanup[10313]: 20C453E00C0: warning: header Subject: RE: RE: RE: RE: RE:// FOLLOW UP // HBL SCREENSHOT //  FINAL SI &amp; HBL // E.R FREMANTLE 087 // HIBLOW from unknown[155.14.132.36]; from=&lt;<a href="/cdn-cgi/l/email-protection#470a06090e0b06180308041467612b337c26336120337c6706170b6904080a">MANILA_DOCS &lt;at&gt; APL.COM</a>&gt; to=&lt;<a href="/cdn-cgi/l/email-protection#abc8d9c6f4cec6cac2c7f4cad9c8c3c2ddcef4cadbc78b8dc7df90cadf8dccdf908bcadbc785c8c4c6">crm_email_archive_apl &lt;at&gt; apl.com</a>&gt; proto=ESMTP helo=&lt;<a href="http://nol.com.sg/">nol.com.sg</a>&gt;<br/>
Feb  6 10:41:23 D1SNX682RL postfix/cleanup[10313]: 20C453E00C0: message-id=&lt;<a href="/cdn-cgi/l/email-protection#5617120465616666666666666766626f6f6376703a226d37227031226d7638393a7835393b782531">ADR37000000104995 &lt;at&gt; nol.com.sg</a>&gt;<br/>
Feb  6 10:44:27 D1SNX682RL postfix/smtpd[3693]: lost connection after DATA (437492 bytes) from unknown[155.14.132.36]<br/>
Feb  6 10:44:27 D1SNX682RL postfix/smtpd[3693]: disconnect from unknown[155.14.132.36]</p>
<p>Followed by:</p>
</div>
<p style="padding-left:30px;">please at least remove from this site , there is security audit going on in my organisation i dont want to maintain this thread , please remove this .</p>
<p>Whoops. You may have noticed in my previous posting &#8220;<a href="http://kurt.seifried.org/2012/05/14/fedora-16-and-red-hat-on-ec2-with-sendmail-using-smart_host-with-authentication/">Fedora 16 and Red Hat on EC2 with Sendmail using SMART_HOST with authentication</a>&#8221; I took the time to sanitize all the IPs and hostnames presented in the examples. It was a bit of a chorse (running search and replace is simple, but reading the results three times to ensure nothing was missed is tedious), but it&#8217;s worth it. Would the information aid an attacker? A little bit. There are other ways to find this out as well (error messages from servers, etc.).</p>
<p>But the reason I do it is simple: if you ALWAYS sanitize information then you won&#8217;t run into a situation where you decided not to sanitize the information and later turned out to be wrong. This is exactly why I shred every single piece of paper I touch before throwing it out. Do I need to shred the envelopes my bills come in? They have no personal information/etc., they could conceivably be used to determine which banks/companies I deal with, and how much I deal with them, but I&#8217;m not overly worried about that (anyone taking the time to go through all my trash can find this out other ways). No the reason I shred everything, including envelopes is so that I never have to worry about throwing something away sensitive. Also I don&#8217;t have to spend any time/effort deciding if something needs shredding or not, it all automatically goes into a pile, and when I&#8217;m bored I feed the shredder (I actually find it oddly fun&#8230;).</p>
</div>
<p class="postmetadata">Tags: <a href="http://kurt.seifried.org/tag/sanitizing/" rel="tag">sanitizing</a>, <a href="http://kurt.seifried.org/tag/security/" rel="tag">security</a><br/> Posted in <a href="http://kurt.seifried.org/category/uncategorized/" rel="category tag">Uncategorized</a> | <a href="http://kurt.seifried.org/2012/07/04/how-not-to-post-log-information-or-why-i-shred-every-piece-of-paper-i-touch/#respond">Leave a Comment &#187;</a></p>
</div>
<div class="post-191 post type-post status-publish format-standard hentry category-uncategorized tag-gnome3 tag-usability" id="post-191">
<h2><a href="http://kurt.seifried.org/2012/06/01/making-fedora-17-gnome-3-work-you-cant-its-completely-broken/" rel="bookmark">Making Fedora 17 + Gnome 3 work &#8211; you can&#8217;t, it&#8217;s completely&nbsp;broken</a></h2>
<small>June 1, 2012 </small>
<div class="entry">
<h2>Update (June 6, 2012): Gnome 3 is actually a LOT more broken than I previously thought. I have since found more problems that basically make it near impossible to configure sanely, if at all.</h2>
<p>So to put it bluntly the Gnome 3 changes suck if you use more than one application at a time and especially if you use more than one monitor as well. Having to move the mouse over to the top left constantly to show windows/applications so you can bring another window to the front or launch an application. I typically have 5-10 (sometimes 20) xterms open (most SSH&#8217;ed in to remote hosts), at least two web browser (Firefox and Chrome, more if I have a lot of tabs open so I can actually read the titles on the tabs, a not uncommon occurrence), my mail client, and my IRC client at a bare minimum.</p>
<p>In other words the Fedora 17 + Gnome 3 defaults completely suck for me (and I suspect many others).</p>
<h2>Step 1) getting my minimize and maximize buttons back:</h2>
<p>You&#8217;ll need the UI tweak tool:</p>
<pre style="padding-left:30px;">yum install gnome-tweak-tool</pre>
<p>and then run it and go to &#8220;Shell&#8221; and then pick the &#8220;Arrangement of buttons on the titlebar&#8221; and select &#8220;All&#8221;:</p>
<p><a href="http://kurtseifried.files.wordpress.com/2012/06/gnome-tweak-tool-min-max-close.png"><img class="aligncenter size-full wp-image-195" title="gnome-tweak-tool-min-max-close" alt="" src="http://kurtseifried.files.wordpress.com/2012/06/gnome-tweak-tool-min-max-close.png?w=450&#038;h=359" width="450" height="359" srcset="http://kurtseifried.files.wordpress.com/2012/06/gnome-tweak-tool-min-max-close.png?w=450&amp;h=359 450w, http://kurtseifried.files.wordpress.com/2012/06/gnome-tweak-tool-min-max-close.png?w=150&amp;h=120 150w, http://kurtseifried.files.wordpress.com/2012/06/gnome-tweak-tool-min-max-close.png?w=300&amp;h=240 300w, http://kurtseifried.files.wordpress.com/2012/06/gnome-tweak-tool-min-max-close.png 642w" sizes="(max-width: 450px) 100vw, 450px"/></a></p>
<p>which will put them on the right hand side ala Windows / Gnome 2</p>
<h2>Step 2) getting a taskbar</h2>
<p>I like the taskbar, most of us have been using the taskbar since Win95, and in my case since OS/2 (yeah, that was an interesting dead end OS), and most versions of Linux copied it early on because, well, it works quite well.</p>
<pre style="padding-left:30px;">yum install tint2</pre>
<p>and then have it autostart, run the gnome-session-properties program:</p>
<pre style="padding-left:30px;">gnome-session-properties</pre>
<p>and add it in:</p>
<p><a href="http://kurtseifried.files.wordpress.com/2012/06/tint2-autostart.png"><img class="aligncenter size-full wp-image-193" title="tint2-autostart" alt="" src="http://kurtseifried.files.wordpress.com/2012/06/tint2-autostart.png?w=450&#038;h=360" width="450" height="360" srcset="http://kurtseifried.files.wordpress.com/2012/06/tint2-autostart.png?w=450&amp;h=360 450w, http://kurtseifried.files.wordpress.com/2012/06/tint2-autostart.png?w=150&amp;h=120 150w, http://kurtseifried.files.wordpress.com/2012/06/tint2-autostart.png?w=300&amp;h=240 300w, http://kurtseifried.files.wordpress.com/2012/06/tint2-autostart.png 610w" sizes="(max-width: 450px) 100vw, 450px"/></a></p>
<h2>Step 3) A dock bar for launching programs</h2>
<p>Being able to launch applications quickly is kind of useful. A dock bar with icons is about as good as it gets.</p>
<pre style="padding-left:30px;">yum install gnome-shell-extension-dock.noarch</pre>
<p>and then .. I&#8217;m not sure, I logged out and back in and Gnome failed to load. Removing the dock extension appears to have addressed it. sigh. The good news is that Fedora 16 will be supported for another 6 months.</p>
<h2>Added June 6, 2012:</h2>
<h2>Step 4) Customizing icon launch properties</h2>
<p>So I also need some of my icons to have customized command line options. Usually this is easy, you right click, and change the properties of the icon such as the &#8220;command&#8221; or &#8220;execute&#8221; line. For example if you want to launch the Google Chrome web browser with Kerberos 5 support you need something like:</p>
<pre style="padding-left:30px;">google-chrome --auth-server-whitelist="*.example.com"</pre>
<p>So doing this should be easy right, simply choose icon properties&#8230; hrmm.. that isn&#8217;t available. Just &#8220;New Window&#8221; and &#8220;Add to favorites&#8221;. Ok, maybe there is an application to do this, aha, &#8220;alacarte&#8221; which is &#8220;a graphical menu editor that lets you edit, add, and delete menu entries.&#8221; This should be perfect, just install it:</p>
<p>yum install alacarte</p>
<p>and run it. Nope, it&#8217;s broken &#8220;ImportError: No module named gmenu&#8221;. Now Debian has a package called &#8220;python-gmenu&#8221; which is &#8220;an implementation of the freedesktop menu specification for GNOME&#8221;, but there doesn&#8217;t appear to be such a package for Fedora.</p>
<p>Worse, the alacarte program has been broken, since August of 2011: <a href="https://bugzilla.redhat.com/show_bug.cgi?id=734442">https://bugzilla.redhat.com/show_bug.cgi?id=734442</a> so I wouldn&#8217;t exactly hold my breath.</p>
<p>So if you want to customize an icon to include command line options you&#8217;ll need to copy the icon file data into your home directory and edit it by hand, this is best described at <a href="http://superuser.com/questions/304271/commandline-options-in-gnome-3-launchers">http://superuser.com/questions/304271/commandline-options-in-gnome-3-launchers</a> and the short version is:</p>
<p>copy the file from /usr/share/applications/ to ~/.local/share/applications/ and modify the &#8220;Exec=&#8221; line.</p>
</div>
<p class="postmetadata">Tags: <a href="http://kurt.seifried.org/tag/gnome3/" rel="tag">gnome3</a>, <a href="http://kurt.seifried.org/tag/usability/" rel="tag">usability</a><br/> Posted in <a href="http://kurt.seifried.org/category/uncategorized/" rel="category tag">Uncategorized</a> | <a href="http://kurt.seifried.org/2012/06/01/making-fedora-17-gnome-3-work-you-cant-its-completely-broken/#respond">Leave a Comment &#187;</a></p>
</div>
<div class="post-182 post type-post status-publish format-standard hentry category-uncategorized tag-sendmail" id="post-182">
<h2><a href="http://kurt.seifried.org/2012/05/14/fedora-16-and-red-hat-on-ec2-with-sendmail-using-smart_host-with-authentication/" rel="bookmark">Fedora 16 and Red Hat on EC2 with Sendmail using SMART_HOST with&nbsp;authentication</a></h2>
<small>May 14, 2012 </small>
<div class="entry">
<p>So I have a bunch of servers hosted on Amazon EC2 running Red Hat Linux / Fedora. Most of them are web front ends, so they need to be able to send email (alerts, status reports, etc.) but I don&#8217;t want to have to request that the email limit be increased on each server (as they come up and down a lot as demand requires).</p>
<p>So my obvious thought was to run an EC2 instance that would act as an email relay for all these servers. Easy enough, install a host with Sendmail, and allowing relaying. The trick here is that I don&#8217;t want to have to edit the access file every time a new host comes up or leaves as the level of IP address churn is quite high. So we enable email authentication, and pre-load EC2 images with the credentials to relay email through the server and we&#8217;re done.</p>
<p>So, foolishly, I thought I&#8217;d skip SMTP, and go straight to TLS encrypted SMTP (port 465), and require authentication. This way all the communications, email, authentication credentials and so on are well protected.I setup the Sendmail server, and tested it using Thunderbird, TLS+auth worked perfectly. However on the Sendmail client server side it did not work well, in fact I was unable to get it working at all, so if anyone knows how I&#8217;d love to hear from you.</p>
<h2><strong>Setting up the Sendmail Server with encryption and authentication</strong></h2>
<p>You&#8217;ll need to install sendmail and sasl:</p>
<pre style="padding-left:30px;">yum install sendmail-cf cyrus-sasl-plain cyrus-sasl-md5 
cyrus-sasl-gssapi cyrus-sasl-lib cyrus-sasl-devel cyrus-sasl</pre>
<p>and enable / start it:</p>
<pre style="padding-left:30px;">systemctl enable saslauthd.service
systemctl enable sendmail.service
systemctl start saslauthd.service
systemctl start sendmail.service</pre>
<p>Then you&#8217;ll need to edit /etc/mail/sendmail.mc, make sure these two lines are not commented out (they are by default):</p>
<pre style="padding-left:30px;">TRUST_AUTH_MECH(`EXTERNAL DIGEST-MD5 CRAM-MD5 LOGIN PLAIN')dnl
define(`confAUTH_MECHANISMS', `EXTERNAL GSSAPI DIGEST-MD5 CRAM-MD5 LOGIN PLAIN')dnl</pre>
<p>and then enable submission:</p>
<pre style="padding-left:30px;">DAEMON_OPTIONS(`Port=submission, Name=MSA, M=Ea')dnl</pre>
<p>Then you&#8217;ll need to enable encryption certificates:</p>
<pre style="padding-left:30px;">define(`confCACERT_PATH', `/etc/pki/tls/certs')dnl
define(`confCACERT', `/etc/pki/tls/certs/CA_bundle.pem')dnl
define(`confSERVER_CERT', `/etc/pki/tls/certs/server.crt')dnl
define(`confSERVER_KEY', `/etc/pki/tls/private/server.key')dnl</pre>
<p>and you&#8217;re basically done. Simply rebuild the sendmail configuration and restart it:</p>
<pre style="padding-left:30px;">/etc/mail/make
systemctl restart sendmail.service</pre>
<p>You&#8217;ll then need to ensure port 587 is not firewalled (either on the local system or in your EC2 security groups), and you&#8217;ll have to create local accounts with passwords so the clients can authenticate against them (e.g. create a user called &#8220;mail-relay&#8221; with a password and lock the account down).</p>
<p>You can easily test the server using an email client such as Thunderbird.</p>
<h2><strong>Setting up the Sendmail Client Server with encryption and authentication</strong></h2>
<p>First you&#8217;re going to need Sendmail and the syrus-sasl-plain rpms installed. The really annoying part is if you don&#8217;t install the cyrus-sasl-plain package email connections will fail, but the log files are less than helpful when this occurs:</p>
<pre style="padding-left:30px;">May 20 23:22:48 ip-10-242-49-173 sendmail[9890]: q4L3MmFP009890: 
client.example.org [10.1.2.3] (may be forged) did not issue 
MAIL/EXPN/VRFY/ETRN during connection to MSA</pre>
<p>To install the rpms simply:</p>
<pre style="padding-left:30px;">yum install sendmail-cf cyrus-sasl-plain</pre>
<p>So now to setup the client. This is woefully documented and there is a ton of conflicting information. To start with install the same sendmail and sasl packages as above. Then you&#8217;ll need a standard SMART_HOST entry line, but with the added options of telling it to use port 587 (submission) and a link to the file with the authentication information:</p>
<pre style="padding-left:30px;">define(`SMART_HOST', `smarthost.example.org')dnl
define(`RELAY_MAILER_ARGS', `TCP $h 587')
define(`ESMTP_MAILER_ARGS', `TCP $h 587')
FEATURE(`authinfo',`Hash -o /etc/mail/authinfo.db')dnl</pre>
<p>You&#8217;ll also need to create an /etc/mail/authinfo file with contents such as:</p>
<pre style="padding-left:30px;">AuthInfo:smarthost.example.org "U:user_name" "P:password_here" "M:PLAIN"</pre>
<p>and build it using the makemap program:</p>
<pre style="padding-left:30px;">makemap hash /etc/mail/authinfo &lt; /etc/mail/authinfo</pre>
<p>You can then restart sendmail and it should work, the log file from the client sendmail server:</p>
<pre style="padding-left:30px;">May 14 02:51:01 ip-10-10-10-10 sendmail[3188]: q4E6p1aq005188: from=ec2-user, 
size=297,, nrcpts=1, msgid=&lt;<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="ae9c9e9f9c9e9b9f9a9e989b9f80df9aeb98de9fcfdf9e9e9d9f9696eec7de839f9e839f9e839f9e839f9e80cbcd9c80c7c0dacbdcc0cfc2">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>&gt;, 
<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="7200171e130b4f001d1d06321e1d11131e1a1d0106">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>

May 14 02:51:01 ip-10-10-10-10 sendmail[3189]: q4E6p12W003189: 
from=&lt;<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="c5a0a6f7e8b0b6a0b785acb5e8f4f5e8f4f5e8f4f5e8f4f5eba0a6f7ebacabb1a0b7aba4a9">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>&gt;, size=577,, nrcpts=1, 
msgid=&lt;<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="5d6f6d6c6f6d686c696d6b686c732c69186b2d6c3c2c6d6d6e6c65651d342d706c6d706c6d706c6d706c6d73383e6f73343329382f333c31">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>&gt;, 
proto=ESMTP, daemon=MTA, relay=localhost.localdomain [127.0.0.1]

May 14 02:51:01 ip-10-10-10-10 sendmail[3188]: q4E6p1aq003188: 
<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="097d6634627c7b7d497a6c606f7b606c6d27667b6e">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>, ctladdr=ec2-user (1000/1000), delay=00:00:00, 
xdelay=00:00:00, mailer=relay, pri=30297, relay=[127.0.0.1] [127.0.0.1], 
dsn=2.0.0, stat=Sent (q4E6p12W003189 Message accepted for delivery)

May 14 02:51:01 ip-10-10-10-10 sendmail[3191]: STARTTLS=client, 
relay=smarthost.example.org., version=TLSv1/SSLv3, verify=FAIL, 
cipher=DHE-RSA-AES256-SHA, bits=256/256

May 14 02:51:02 ip-10-10-10-10 sendmail[3191]: q4E6p52W003189: 
to=&lt;<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="1e756b6c6a5e6d7b77786c777b7a30716c79">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>&gt;, ctladdr=&lt;<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="dcb9bfeef1a9afb9ae9cb5acf1edecf1edecf1edecf1edecf2b9bfeef2b5b2a8b9aeb2bdb0">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>&gt; 
(1000/1000), delay=00:00:01, xdelay=00:00:01, mailer=relay, pri=120577, 
relay=smarthost.example.org. [1.2.3.4], dsn=2.0.0, stat=Sent 
(q4E6p1ZE001355 Message accepted for delivery)</pre>
<p>And on the server:</p>
<pre style="padding-left:30px;">May 14 02:49:48 ip-1-2-3-4 sendmail[1349]: STARTTLS=server, 
relay=ec2-1-2-3-4.compute-1.amazonaws.com [1.2.3.4] (may be forged), 
version=TLSv1/SSLv3, verify=NO, cipher=DHE-RSA-AES256-SHA, bits=256/256

May 14 02:49:48 ip-1-2-3-4 sendmail[1349]: AUTH=server, 
relay=ec2-1-2-3-4.compute-1.amazonaws.com [1.2.3.4] (may be forged), 
authid=email-client, mech=PLAIN, bits=0

May 14 02:49:48 ip-1-2-3-4 sendmail[1349]: q4E6nmgg001349: 
from=&lt;<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="701513425d050315023019005d41405d41405d41405d41405e1513425e191e0415021e111c">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>&gt;, size=795,, nrcpts=1, 
msgid=&lt;<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="1e2c2e2f2c2e2b2f2a2e282a27306f2a5b2870737a5b2e2e2d2f262c5e776e332f2e332f2e332f2e332f2e307b7d2c3077706a7b6c707f72">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>&gt;, 
proto=ESMTP, daemon=MSA, relay=ec2-1-2-3-4.compute-1.amazonaws.com 
[1.2.3.4] (may be forged)

May 14 02:49:49 ip-1-2-3-4 sendmail[1354]: STARTTLS=client, 
relay=aspmx.l.google.com., version=TLSv1/SSLv3, verify=FAIL, 
cipher=RC4-SHA, bits=128/128

May 14 02:49:49 ip-1-2-3-4 sendmail[1354]: q4E6nmgg001349: 
to=&lt;<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="f398868187b380969a95819a9697dd9c8194">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>&gt;, delay=00:00:01, xdelay=00:00:01, mailer=esmtp, 
pri=120795, relay=aspmx.l.google.com. [173.194.68.26], dsn=2.0.0, 
stat=Sent (OK 1336912345 gs11si19555555aaa.999)</pre>
<p>As you can see the email comes in, and is then handed off to gmail.</p>
</div>
<p class="postmetadata">Tags: <a href="http://kurt.seifried.org/tag/sendmail/" rel="tag">sendmail</a><br/> Posted in <a href="http://kurt.seifried.org/category/uncategorized/" rel="category tag">Uncategorized</a> | <a href="http://kurt.seifried.org/2012/05/14/fedora-16-and-red-hat-on-ec2-with-sendmail-using-smart_host-with-authentication/#comments">1 Comment &#187;</a></p>
</div>
<div class="post-165 post type-post status-publish format-standard hentry category-uncategorized tag-auditing tag-programming tag-security tag-tmp" id="post-165">
<h2><a href="http://kurt.seifried.org/2012/03/14/creating-temporary-files-securely/" rel="bookmark">Creating temporary files&nbsp;securely</a></h2>
<small>March 14, 2012 </small>
<div class="entry">
<p>Creating temporary files  is a common use case in virtually every program. Virtually every programming language has a simple and secure way to create temporary files. Sadly many programmers fail to use them, creating security vulnerabilities in their applications. So in alphabetical order here is a list of programming languages and how to create a temporary file securely. If I&#8217;m wrong, please let me know. Note: when searching for a secure temporary file creation function/method/etc. looking for &#8220;mkstemp&#8221; is a quick way to find most of them. Please note a lot of sites (e.g. <a href="http://rosettacode.org/wiki/Secure_temporary_file" rel="nofollow">http://rosettacode.org/wiki/Secure_temporary_file</a>) contain old/wrong information.</p>
<h2>O_CREAT and O_EXCL (and similar)</h2>
<p>When opening a temporary file in C you MUST use O_CREAT and O_EXCL together to ensure that the file is only created if the file does not exist. Otherwise between the time you check for the existence of a file and the time you create the file an attacker may be able to create a file with the same name. The good news here is that virtually every secure temporary file creation function/library does this or an equivalent option. To quote mkstemp():</p>
<blockquote><p>The mkstemp() function shall replace the contents of the string pointed to by template by a unique filename, and return a file descriptor for the file open for reading and writing. The function thus prevents any possible race condition between testing whether the file exists and opening it for use.</p></blockquote>
<h2><strong>Why &#8220;unique&#8221; names are not enough, but are generally not a huge problem</strong></h2>
<p>People often think that creating a file with a &#8220;unique&#8221; name in /tmp (e.g. &#8220;/tmp/myprogram-output.log&#8221;) is sufficient to safely create a temporary file. However if you create the file with a known or easily guessed name (e.g. a static name set in the source code or a config file) an attacker can create the file first and then your application will be unable to, creating a denial of service condition potentially.</p>
<p>However the names don&#8217;t have to be terribly unique. For example if you use mkstemp() with 10 random characters (the default) gives on the order of 839,299,365,868,340,224 possible file names. Any attacker able to create enough files to force a collision of the name would be able to fill up the /tmp directory in any event (unless you have an absurdly large /tmp directory that is several exabytes in size, which won&#8217;t be a problem for some time).</p>
<h2>Unexpected temporary files</h2>
<p>It should also be noted that many programs create temporary files. Text editors and other file editors may create temporary file saves in /tmp or /var/tmp and so on.</p>
<h2>The problem with $TMP, $TEMP, $TMPDIR, $TEMPDIR and so on</h2>
<p>One note: if you&#8217;re going to use environmental variables you&#8217;d better make sure you sanitize them and ensure they aren&#8217;t overly long. User controlled environmental variables are just that, user controlled. I can&#8217;t find a good set of libraries or code to sanitize these variables before use, if anyone knows of such a thing please contact me (<a href="/cdn-cgi/l/email-protection#147f6166605467717d72667d71703a7b6673"><span class="__cf_email__" data-cfemail="264d5354526655434f40544f434208495441">[email&#160;protected]</span><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script></a>).</p>
<h2>Better list for lots of other languages:</h2>
<p>Please see <a href="http://rosettacode.org/wiki/Secure_temporary_file">http://rosettacode.org/wiki/Secure_temporary_file</a></p>
<h2><strong>Bash</strong></h2>
<p>Simply use &#8220;mktemp&#8221; (&#8220;man mktemp&#8221; for details). Use &#8220;-d&#8221; or &#8220;&#8211;directory&#8221; for creating directories.</p>
<h2><strong>C</strong></h2>
<p>use mkstemp() (&#8220;man mkstemp&#8221; for details) for files</p>
<p>use mkdtemp() (&#8220;man mkdtemp&#8221; for details) for directories</p>
<p>tmpfile() is another option &#8211; Creates a temporary binary file, open for update (wb+ mode &#8212; see fopen for details). The filename is guaranteed to be different from any other existing file.</p>
<h2><strong>C++</strong></h2>
<p>use mkstemp() (&#8220;man mkstemp&#8221; for details)</p>
<p>use mkdtemp() (&#8220;man mkdtemp&#8221; for details) for directories</p>
<p>tmpfile() is another option &#8211; Creates a temporary binary file, open for update (wb+ mode &#8212; see fopen for details). The filename is guaranteed to be different from any other existing file.</p>
<p>On Windows use GetTempPath() and GetTempFileName () (same names in C#)</p>
<h2><strong>C#</strong></h2>
<p>Path.GetTempFileName() <a href="http://msdn.microsoft.com/en-us/library/system.io.path.gettempfilename(v=vs.80).aspx">http://msdn.microsoft.com/en-us/library/system.io.path.gettempfilename(v=vs.80).aspx</a></p>
<h2><strong>Cocoa</strong></h2>
<p><a href="http://stackoverflow.com/questions/215820/how-do-i-create-a-temporary-file-with-cocoa">http://stackoverflow.com/questions/215820/how-do-i-create-a-temporary-file-with-cocoa</a></p>
<h2>Google Go (golang)</h2>
<p>So ioutil.TempDir and ioutil.TempFile automatically appends a uint32 and has default permissions of 0600. Well done.</p>
<p><a href="http://golang.org/pkg/io/ioutil/#TempDir">http://golang.org/pkg/io/ioutil/#TempDir</a></p>
<p>Use this and you&#8217;re safe. Just a note: io.TempDir returns the value of the temporary directly (e.g. /tmp).</p>
<h2><strong>Java</strong></h2>
<p>use java.io.File.createTempFile() &#8211; some interesting info at <a href="http://www.veracode.com/blog/2009/01/how-boring-flaws-become-interesting/">http://www.veracode.com/blog/2009/01/how-boring-flaws-become-interesting/</a></p>
<p>for directories there is a helpful posting at <a href="http://stackoverflow.com/questions/617414/create-a-temporary-directory-in-java">http://stackoverflow.com/questions/617414/create-a-temporary-directory-in-java</a></p>
<p><strong style="color:#2b6fb6;font-size:1.5em;">Java 7</strong></p>
<p>for files use java.io.File.createTempFile()</p>
<p>for directories use createTempDirectory()</p>
<p><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html">http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html</a></p>
<p><strong style="color:#2b6fb6;font-size:1.5em;">Lisp</strong></p>
<p><a href="http://stackoverflow.com/questions/1384972/common-lisp-function-or-idiom-for-creating-a-temporary-file-name">http://stackoverflow.com/questions/1384972/common-lisp-function-or-idiom-for-creating-a-temporary-file-name</a></p>
<h2>nodejs</h2>
<p><a href="http://stackoverflow.com/questions/7055061/nodejs-temporary-file-name">http://stackoverflow.com/questions/7055061/nodejs-temporary-file-name</a></p>
<h2><strong>Perl</strong></h2>
<p>use mkstemp()</p>
<p><a href="http://perldoc.perl.org/File/Temp.html#MKTEMP-FUNCTIONS">http://perldoc.perl.org/File/Temp.html#MKTEMP-FUNCTIONS</a></p>
<h2><strong>Python</strong></h2>
<p>Simply use &#8220;mkstemp&#8221; for files and &#8220;mkdtemp&#8221; for directories from the &#8220;tempfile&#8221; module:</p>
<p><a href="http://docs.python.org/library/tempfile.html#tempfile.mkstemp">http://docs.python.org/library/tempfile.html#tempfile.mkstemp</a></p>
<h2><strong>QT</strong></h2>
<p>use QTemporaryFile for files:</p>
<p><a href="http://qt-project.org/doc/qt-4.8/qtemporaryfile.html">http://qt-project.org/doc/qt-4.8/qtemporaryfile.html</a></p>
<p>use  for QTemporaryDir directories:</p>
<p><a href="http://qt-project.org/doc/qt-5.0/qtemporarydir.html">http://qt-project.org/doc/qt-5.0/qtemporarydir.html</a></p>
<h2><strong>Ruby</strong></h2>
<p>use Tempfile for files:</p>
<p><a href="http://www.ruby-doc.org/stdlib-1.9.3/libdoc/tempfile/rdoc/Tempfile.html#method-c-new">http://www.ruby-doc.org/stdlib-1.9.3/libdoc/tempfile/rdoc/Tempfile.html#method-c-new</a></p>
<p>use tmpdir for directories (require &#8216;tmpdir&#8217; and then you can &#8220;Dir.mktmpdir&#8221;):</p>
<p><a href="http://www.ruby-doc.org/stdlib-1.9.3/libdoc/tmpdir/rdoc/index.html" rel="nofollow">http://www.ruby-doc.org/stdlib-1.9.3/libdoc/tmpdir/rdoc/index.html</a></p>
<h2>Making per user /tmp directories</h2>
<p>Using PAM you can also make per user /tmp directories using polyinstantiation <a href="http://www.ibm.com/developerworks/linux/library/l-polyinstantiation/">http://www.ibm.com/developerworks/linux/library/l-polyinstantiation/</a></p>
<p>If you have a system with many users (e.g. a shell server or web host) this is a great way to avoid the whole /tmp mess at the system level rather than trying to ensure your applications are properly written.</p>
<h2>Monitoring /tmp for activity</h2>
<p>So how can we be sure our changes work and temporary directories and files are being created safely? Conversely how can we monitor /tmp to watch for programs that use /tmp improperly or in unsafe ways? Linux has an <a href="http://en.wikipedia.org/wiki/Inotify">inotify </a>subsystem that allows you to monitor a file(s) or directory(s) (including recursively) for file and directory related activity (creation, deletion, modification, etc.). The downside of inotify is that, as far as I can tell, there is no way to list which process was responsible (so if you have a large application and multiple applications running it may be difficult to track down which one specifically created the file/etc.</p>
<p>To use inotify use either the &#8220;inotify-tools&#8221; or &#8220;pyinotify&#8221; programs, I prefer pynitofy, the output is really easy to read:</p>
<pre style="padding-left:30px;"># /usr/bin/pyinotify /tmp/
&lt;Event dir=True mask=0x40000100 maskname=IN_CREATE|IN_ISDIR \
name=foo.ooCHP2tb1adt path=/tmp pathname=/tmp/foo.ooCHP2tb1adt wd=1 &gt;</pre>
<p>You can also use SELinux, running permissive mode simply disable all access to /tmp and then run your application(s). The log files will show any accesses of /tmp including the process information.</p>
<h2>Auditing for /tmp file vulnerabilities</h2>
<p>It&#8217;s not hard, mostly I just do:</p>
<pre style="padding-left:30px;">find ./ -type f -exec grep /tmp {} +</pre>
<p>and if they wrote the code using the above techniques it is probably safe, if it is written any other way it&#8217;s probably wrong.</p>
<h1>Which directory should you use?</h1>
<p>You should be using /var/run/something/ or /run/something/ that is setup in advance and secured for the users/groups that require it.</p>
</div>
<p class="postmetadata">Tags: <a href="http://kurt.seifried.org/tag/auditing/" rel="tag">auditing</a>, <a href="http://kurt.seifried.org/tag/programming/" rel="tag">programming</a>, <a href="http://kurt.seifried.org/tag/security/" rel="tag">security</a>, <a href="http://kurt.seifried.org/tag/tmp/" rel="tag">tmp</a><br/> Posted in <a href="http://kurt.seifried.org/category/uncategorized/" rel="category tag">Uncategorized</a> | <a href="http://kurt.seifried.org/2012/03/14/creating-temporary-files-securely/#comments">3 Comments &#187;</a></p>
</div>
<div class="post-127 post type-post status-publish format-standard hentry category-information-security category-linux tag-fedora tag-selinux tag-wordpress tag-wp-super-cache" id="post-127">
<h2><a href="http://kurt.seifried.org/2012/01/04/fedora-16-with-selinux-running-wordpress-with-wp-super-cache/" rel="bookmark">Fedora 16 with SELinux running WordPress with WP Super&nbsp;Cache</a></h2>
<small>January 4, 2012 </small>
<div class="entry">
<p><strong>Updated (Jan 5, 2012)</strong>: chcon changes the SELinux security on a file, but a restorecon would wipe that out, you need to actually run semanage to change the policy, then run restorecon to make it &#8220;permanent&#8221;.  Thanks to <a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="96f2e1f7fae5fed6e4f3f2fef7e2b8f5f9fb">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script> for pointing this out to me.</p>
<p>So I recently started upgrading all the CloudSecurityAlliance web servers from F14 (with SELinux enabled) to F16 (with SELinux enabled). But I ran into a nasty little problem, WP Super Cache was broken. The error message that came up was:</p>
<pre style="padding-left:30px;">Error: Your cache directory (/var/www/html/wp-content/cache/)
or /var/www/html/wp-content need to be writable for this
plugin to work. Double-check it.

Cannot continue... fix previous problems and retry.</pre>
<p>Well shoot. The file permissions were correct, apache had write permissions and so on to the directory. But it was unable to write&#8230; Ah.. must be SELinux. The quickest way to test this is to simply disable SELinux for a second:</p>
<pre style="padding-left:30px;">setenforce Permissive</pre>
<p>and reload the WP Super Cache control page. Ah it works. So we know it&#8217;s an SELinux problem. The good news is that this is easy to fix, simply set the label on the directories and files you want the httpd process to be able to write to (and don&#8217;t forget to re-enable SELinux after you disabled it in the previous step):</p>
<p>You can use chcon to change the content on the directories:</p>
<pre style="padding-left:30px;">chcon -R -t httpd_sys_rw_content_t /var/www/html/wp-content/cache/
chcon -R -t httpd_sys_rw_content_t /var/www/html/wp-content/plugins/
chcon -R -t httpd_sys_rw_content_t /var/www/html/wp-content/themes
chcon -R -t httpd_sys_rw_content_t /var/www/html/wp-content/uploads/
chcon -t httpd_sys_rw_content_t /var/www/html/wp-content/wp-cache-config.php</pre>
<p>For a more permanent change however use semanage to change the targeted policy:</p>
<pre style="padding-left:30px;">semanage -S targeted -i - &lt;&lt; _EOF
fcontext -a -t httpd_sys_rw_content_t /var/www/html/wp-content/cache(/.*)?
fcontext -a -t httpd_sys_rw_content_t /var/www/html/wp-content/uploads(/.*)?
fcontext -a -t httpd_sys_rw_content_t /var/www/html/wp-content/plugins(/.*)?
fcontext -a -t httpd_sys_rw_content_t /var/www/html/wp-content/themes(/.*)?
fcontext -a -t httpd_sys_rw_content_t /var/www/html/wp-content/wp-cache-config.php
fcontext -a -t httpd_sys_rw_content_t /var/www/html/wp-content/themes(/.*)?
fcontext -a -t httpd_sys_rw_content_t /var/www/html/wp-content/blogs.dir(/.*)?
_EOF</pre>
<pre style="padding-left:30px;">restorecon -R -v /var/www/html</pre>
<p>Also you may want to add &#8220;/var/www/html/wp-content/blogs.dir(/.*)?&#8221; so that WordPress multi-site uploads work properly.</p>
<p>Be mindful of selinux policy updates, they shouldn&#8217;t overwrite the changes you made but you may want to in order to get the latest greatest policies. Also you probably won&#8217;t have semanage installed:</p>
<pre style="padding-left:30px;">yum install policycoreutils-python</pre>
<p>Ok that was easy. But how do we find out what label needs to be applied? Well the ls command can give us a hint:</p>
<pre style="padding-left:30px;">ls -dZ /var/www/html
drwxr-xr-x. root root system_u:object_r:httpd_sys_content_t:s0 /var/www/html</pre>
<p>So we&#8217;re dealing with httpd (obviously, but for other servers and services it may not be as simple so I&#8217;m doing this step by step). We can check for httpd related contexts using grep:</p>
<pre style="padding-left:30px;">grep httpd /etc/selinux/targeted/contexts/files/file_contexts</pre>
<p>Which will return a huge list of stuff. If you examine the output however you will notice lines like:</p>
<pre style="padding-left:30px;">/var/lib/drupal.*       system_u:object_r:httpd_sys_rw_content_t:s0
/var/cache/mediawiki(/.*)?      system_u:object_r:httpd_cache_t:s0</pre>
<p>So it would appear we have two main choices: httpd_sys_rw_content_t and httpd_cache_t. There are a number of other related labels as well: httpd_mediawiki_rw_content_t, httpd_git_rw_content_t, httpd_bugzilla_rw_content_t, httpd_mojomojo_rw_content_t and httpd_dspam_content_rw_t to name a few. Any of these will work, but I chose httpd_sys_rw_content_t as it;s rpetty obvious as to what it is for at first glance.</p>
<p>For more details on Red Hat Enterprise Linux (this also applies to Fedora) with SELinux and confined services check the Red Hat documentation:</p>
<p><a title="The Apache HTTP Server and SELinux - Types" href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Managing_Confined_Services/sect-Managing_Confined_Services-The_Apache_HTTP_Server-Types.html">Managing_Confined_Services/sect-Managing_Confined_Services-The_Apache_HTTP_Server-Types.html</a></p>
</div>
<p class="postmetadata">Tags: <a href="http://kurt.seifried.org/tag/fedora/" rel="tag">Fedora</a>, <a href="http://kurt.seifried.org/tag/selinux/" rel="tag">SELinux</a>, <a href="http://kurt.seifried.org/tag/wordpress/" rel="tag">Wordpress</a>, <a href="http://kurt.seifried.org/tag/wp-super-cache/" rel="tag">WP-Super-Cache</a><br/> Posted in <a href="http://kurt.seifried.org/category/information-security/" rel="category tag">Information Security</a>, <a href="http://kurt.seifried.org/category/linux/" rel="category tag">Linux</a> | <a href="http://kurt.seifried.org/2012/01/04/fedora-16-with-selinux-running-wordpress-with-wp-super-cache/#comments">1 Comment &#187;</a></p>
</div>
<div class="post-85 post type-post status-publish format-standard hentry category-uncategorized tag-ami tag-aws tag-ebs" id="post-85">
<h2><a href="http://kurt.seifried.org/2010/12/08/converting-an-ami-to-an-ebs-that-boots-off-of-ebs/" rel="bookmark">Converting an AMI to an AMI that boots off of&nbsp;EBS</a></h2>
<small>December 8, 2010 </small>
<div class="entry">
<p>So I wanted to create an AMI that had some permanency (e.g. if I run &#8220;yum -y update&#8221; the system actually is updated when I reboot it next). Specifically I wanted to take the Fedora 14 AMI from <a href="https://fedoraproject.org/wiki/Cloud_SIG/EC2_Images">https://fedoraproject.org/wiki/Cloud_SIG/EC2_Images</a>, install some software on it and make it semi permanent (so I could use it as needed).</p>
<p>To do this you will need an EBS backed AMI. There are two ways to store an AMI image, in S3 or in EBS. S3 is a simple bit bucket and the AMI storage protocol basically boils down to &#8220;compress the disk image and cut it up into chunks, store the chunks and a manifest file in S3&#8221; so when you start an AMI it gets the manifest then downloads the appropriate chunks of data from S3, creates a disk image and fires it up. EBS actually presents like a normal disk, and changes made to an EBS volume actually change the EBS volume, so you get some permanency.</p>
<p>However if you terminate the instance it will still go bye-bye and any changes you made since you initially loaded it from the EBS volume it was originally created from will be gone. In order to update the AMI you will simply need to halt the running instance and take a snapshot of it, and then convert that snapshot into an AMI instance (and ideally include a version number in the name or description):</p>
<blockquote><p>ec2-register -snapshot snap-SOMESNAP -description &#8220;A description&#8221; -name &#8220;A name 1.0&#8221; [-kernel aki-something] [-ramdisk ari-something]</p></blockquote>
<p>For complete instructions on turning a running AMI into an EBS backed AMI please see:</p>
<p><a href="http://webkist.wordpress.com/2010/03/16/creating-an-amazon-ec2-ebs-ami-from-a-running-instance/">http://webkist.wordpress.com/2010/03/16/creating-an-amazon-ec2-ebs-ami-from-a-running-instance/</a></p>
<p>But the synopsis is: run a AMI instance, create and mount an EBS volume on it, format the EBS as EXT3/EXT4, mount it and then rsync (use -a and -x) / to the mount point, create some devices like console so you can login:</p>
<blockquote><p># MAKEDEV -d /mnt/ebs/dev -x console<br/>
# MAKEDEV -d /mnt/ebs/dev -x zero<br/>
# MAKEDEV -d /mnt/ebs/dev -x null</p></blockquote>
<p>and make sure you disable /dev/sda2 and whatnot in /etc/fstab (since your image may not have it setup and it will go sideways).</p>
</div>
<p class="postmetadata">Tags: <a href="http://kurt.seifried.org/tag/ami/" rel="tag">ami</a>, <a href="http://kurt.seifried.org/tag/aws/" rel="tag">aws</a>, <a href="http://kurt.seifried.org/tag/ebs/" rel="tag">ebs</a><br/> Posted in <a href="http://kurt.seifried.org/category/uncategorized/" rel="category tag">Uncategorized</a> | <a href="http://kurt.seifried.org/2010/12/08/converting-an-ami-to-an-ebs-that-boots-off-of-ebs/#comments">1 Comment &#187;</a></p>
</div>
<div class="post-82 post type-post status-publish format-standard hentry category-linux tag-aws tag-ec2" id="post-82">
<h2><a href="http://kurt.seifried.org/2010/12/08/getting-amazone-aws-ec2-api-tools-working-properly/" rel="bookmark">Getting Amazon AWS EC2 API Tools working&nbsp;properly</a></h2>
<small>December 8, 2010 </small>
<div class="entry">
<p>a) First remove all hints of Java from your system (libgcj, openjdk, etc.). Use &#8220;whereis java&#8221; and &#8220;locate java&#8221; and &#8220;rpm -qf /some/random/thing/java&#8221; to expunge your system.</p>
<p>b) Install JDK from Sun/Oracle (<a href="http://www.java.com/en/download/installed.jsp?detect=jre&amp;try=1">http://www.java.com/en/download/installed.jsp?detect=jre&amp;try=1</a>)</p>
<p>c) install ruby (&#8220;yum install ruby&#8221;)</p>
<p>d) download EC2 API tools (<a href="http://aws.amazon.com/developertools/351?_encoding=UTF8&amp;jiveRedirect=1">http://aws.amazon.com/developertools/351?_encoding=UTF8&amp;jiveRedirect=1</a>) , unpack, copy the bin and libs directories into /opt/ec2/ or wherever you want</p>
<p>e) create and download a certificate pair from the AWS management interface</p>
<p>f) export stuff:</p>
<p>export JAVA_HOME=/usr/</p>
<p>export EC2_CERT=/root/cert.pem</p>
<p>export EC2_PRIVATE_KEY=/root/pk.pem</p>
<p>export EC2_HOME=/opt/ec2/</p>
</div>
<p class="postmetadata">Tags: <a href="http://kurt.seifried.org/tag/aws/" rel="tag">aws</a>, <a href="http://kurt.seifried.org/tag/ec2/" rel="tag">ec2</a><br/> Posted in <a href="http://kurt.seifried.org/category/linux/" rel="category tag">Linux</a> | <a href="http://kurt.seifried.org/2010/12/08/getting-amazone-aws-ec2-api-tools-working-properly/#respond">Leave a Comment &#187;</a></p>
</div>
<div class="navigation">
<div class="alignleft"><a href="http://kurt.seifried.org/page/3/">&laquo; Older Entries</a></div>
<div class="alignright"><a href="http://kurt.seifried.org/">Newer Entries &raquo;</a></div>
</div>
</div>
<div id="sidebar">
<ul>
<li id="blog_subscription-3" class="widget widget_blog_subscription"><h2 class="widgettitle"><label for="subscribe-field">Email Subscription</label></h2>
<form action="https://subscribe.wordpress.com" method="post" accept-charset="utf-8" id="subscribe-blog">
<p>Enter your email address to subscribe to this blog and receive notifications of new posts by email.</p>
<p>Join 14 other followers</p>
<p><input type="text" name="email" style="width: 95%; padding: 1px 2px" placeholder="Enter your email address" value="" id="subscribe-field"/></p>
<p>
<input type="hidden" name="action" value="subscribe"/>
<input type="hidden" name="blog_id" value="86342"/>
<input type="hidden" name="source" value="http://kurt.seifried.org/page/2/"/>
<input type="hidden" name="sub-type" value="widget"/>
<input type="hidden" name="redirect_fragment" value="blog_subscription-3"/>
<input type="hidden" id="_wpnonce" name="_wpnonce" value="321560f319"/> <input type="submit" value="Sign me up!"/>
</p>
</form>
</li>
<li id="wp_tag_cloud-2" class="widget wp_widget_tag_cloud"><h2 class="widgettitle">Tag Cloud</h2>
<div style="overflow:hidden"><a href='http://kurt.seifried.org/tag/ami/' class='tag-link-126820 tag-link-position-1' title='1 topic' style='font-size: 8pt;'>ami</a>
<a href='http://kurt.seifried.org/tag/auditing/' class='tag-link-84847 tag-link-position-2' title='1 topic' style='font-size: 8pt;'>auditing</a>
<a href='http://kurt.seifried.org/tag/aws/' class='tag-link-144203 tag-link-position-3' title='2 topics' style='font-size: 13.25pt;'>aws</a>
<a href='http://kurt.seifried.org/tag/beanstalk/' class='tag-link-1980937 tag-link-position-4' title='1 topic' style='font-size: 8pt;'>beanstalk</a>
<a href='http://kurt.seifried.org/tag/bing/' class='tag-link-34399 tag-link-position-5' title='1 topic' style='font-size: 8pt;'>bing</a>
<a href='http://kurt.seifried.org/tag/bitcoin/' class='tag-link-36507086 tag-link-position-6' title='1 topic' style='font-size: 8pt;'>bitcoin</a>
<a href='http://kurt.seifried.org/tag/ca/' class='tag-link-23572 tag-link-position-7' title='1 topic' style='font-size: 8pt;'>ca</a>
<a href='http://kurt.seifried.org/tag/chrome/' class='tag-link-367314 tag-link-position-8' title='1 topic' style='font-size: 8pt;'>chrome</a>
<a href='http://kurt.seifried.org/tag/currency/' class='tag-link-123802 tag-link-position-9' title='1 topic' style='font-size: 8pt;'>currency</a>
<a href='http://kurt.seifried.org/tag/dsk/' class='tag-link-435979 tag-link-position-10' title='1 topic' style='font-size: 8pt;'>dsk</a>
<a href='http://kurt.seifried.org/tag/ebs/' class='tag-link-412792 tag-link-position-11' title='1 topic' style='font-size: 8pt;'>ebs</a>
<a href='http://kurt.seifried.org/tag/ec2/' class='tag-link-315451 tag-link-position-12' title='1 topic' style='font-size: 8pt;'>ec2</a>
<a href='http://kurt.seifried.org/tag/economics/' class='tag-link-657 tag-link-position-13' title='1 topic' style='font-size: 8pt;'>economics</a>
<a href='http://kurt.seifried.org/tag/fedora/' class='tag-link-611 tag-link-position-14' title='1 topic' style='font-size: 8pt;'>Fedora</a>
<a href='http://kurt.seifried.org/tag/gnome3/' class='tag-link-8792038 tag-link-position-15' title='1 topic' style='font-size: 8pt;'>gnome3</a>
<a href='http://kurt.seifried.org/tag/hardware-2/' class='tag-link-9285985 tag-link-position-16' title='1 topic' style='font-size: 8pt;'>hardware</a>
<a href='http://kurt.seifried.org/tag/hbr/' class='tag-link-564713 tag-link-position-17' title='1 topic' style='font-size: 8pt;'>hbr</a>
<a href='http://kurt.seifried.org/tag/infosec/' class='tag-link-52624 tag-link-position-18' title='4 topics' style='font-size: 19.666666666667pt;'>infosec</a>
<a href='http://kurt.seifried.org/tag/ipv6/' class='tag-link-10414 tag-link-position-19' title='2 topics' style='font-size: 13.25pt;'>ipv6</a>
<a href='http://kurt.seifried.org/tag/iscsi/' class='tag-link-42965 tag-link-position-20' title='1 topic' style='font-size: 8pt;'>iscsi</a>
<a href='http://kurt.seifried.org/tag/iscsi-target/' class='tag-link-6470038 tag-link-position-21' title='1 topic' style='font-size: 8pt;'>iscsi target</a>
<a href='http://kurt.seifried.org/tag/json/' class='tag-link-72721 tag-link-position-22' title='1 topic' style='font-size: 8pt;'>json</a>
<a href='http://kurt.seifried.org/tag/kerberos/' class='tag-link-649626 tag-link-position-23' title='1 topic' style='font-size: 8pt;'>kerberos</a>
<a href='http://kurt.seifried.org/tag/memcache/' class='tag-link-2404263 tag-link-position-24' title='1 topic' style='font-size: 8pt;'>memcache</a>
<a href='http://kurt.seifried.org/tag/microsoft/' class='tag-link-637 tag-link-position-25' title='1 topic' style='font-size: 8pt;'>microsoft</a>
<a href='http://kurt.seifried.org/tag/openbsd/' class='tag-link-15262 tag-link-position-26' title='3 topics' style='font-size: 16.75pt;'>openbsd</a>
<a href='http://kurt.seifried.org/tag/performance/' class='tag-link-1930 tag-link-position-27' title='5 topics' style='font-size: 22pt;'>performance</a>
<a href='http://kurt.seifried.org/tag/programming/' class='tag-link-196 tag-link-position-28' title='2 topics' style='font-size: 13.25pt;'>programming</a>
<a href='http://kurt.seifried.org/tag/python-2/' class='tag-link-27143169 tag-link-position-29' title='3 topics' style='font-size: 16.75pt;'>python</a>
<a href='http://kurt.seifried.org/tag/pyton/' class='tag-link-3933214 tag-link-position-30' title='1 topic' style='font-size: 8pt;'>pyton</a>
<a href='http://kurt.seifried.org/tag/sanitizing/' class='tag-link-2249863 tag-link-position-31' title='1 topic' style='font-size: 8pt;'>sanitizing</a>
<a href='http://kurt.seifried.org/tag/security/' class='tag-link-801 tag-link-position-32' title='5 topics' style='font-size: 22pt;'>security</a>
<a href='http://kurt.seifried.org/tag/selinux/' class='tag-link-1093416 tag-link-position-33' title='2 topics' style='font-size: 13.25pt;'>SELinux</a>
<a href='http://kurt.seifried.org/tag/sendmail/' class='tag-link-151536 tag-link-position-34' title='1 topic' style='font-size: 8pt;'>sendmail</a>
<a href='http://kurt.seifried.org/tag/simulators/' class='tag-link-24955 tag-link-position-35' title='1 topic' style='font-size: 8pt;'>simulators</a>
<a href='http://kurt.seifried.org/tag/smuggling/' class='tag-link-303838 tag-link-position-36' title='1 topic' style='font-size: 8pt;'>smuggling</a>
<a href='http://kurt.seifried.org/tag/spam/' class='tag-link-652 tag-link-position-37' title='3 topics' style='font-size: 16.75pt;'>spam</a>
<a href='http://kurt.seifried.org/tag/ssd/' class='tag-link-248864 tag-link-position-38' title='1 topic' style='font-size: 8pt;'>ssd</a>
<a href='http://kurt.seifried.org/tag/ssl/' class='tag-link-58302 tag-link-position-39' title='1 topic' style='font-size: 8pt;'>ssl</a>
<a href='http://kurt.seifried.org/tag/storage/' class='tag-link-3386 tag-link-position-40' title='1 topic' style='font-size: 8pt;'>storage</a>
<a href='http://kurt.seifried.org/tag/tablet/' class='tag-link-7939 tag-link-position-41' title='1 topic' style='font-size: 8pt;'>tablet</a>
<a href='http://kurt.seifried.org/tag/testing/' class='tag-link-12 tag-link-position-42' title='1 topic' style='font-size: 8pt;'>testing</a>
<a href='http://kurt.seifried.org/tag/tmp/' class='tag-link-71355 tag-link-position-43' title='1 topic' style='font-size: 8pt;'>tmp</a>
<a href='http://kurt.seifried.org/tag/usability/' class='tag-link-753 tag-link-position-44' title='1 topic' style='font-size: 8pt;'>usability</a>
<a href='http://kurt.seifried.org/tag/vmware/' class='tag-link-38600 tag-link-position-45' title='1 topic' style='font-size: 8pt;'>vmware</a>
<a href='http://kurt.seifried.org/tag/webpad/' class='tag-link-1523589 tag-link-position-46' title='1 topic' style='font-size: 8pt;'>webpad</a>
<a href='http://kurt.seifried.org/tag/wordpress/' class='tag-link-33 tag-link-position-47' title='1 topic' style='font-size: 8pt;'>Wordpress</a>
<a href='http://kurt.seifried.org/tag/wp-super-cache/' class='tag-link-4732947 tag-link-position-48' title='1 topic' style='font-size: 8pt;'>WP-Super-Cache</a></div></li>
<li id="pages-3" class="widget widget_pages"><h2 class="widgettitle">Pages</h2>
<ul>
<li class="page_item page-item-2"><a href="http://kurt.seifried.org/about/">About</a></li>
<li class="page_item page-item-162"><a href="http://kurt.seifried.org/free-cloud-services/">Free cloud services</a></li>
<li class="page_item page-item-302"><a href="http://kurt.seifried.org/gov-cloud-standards/">Gov Cloud Standards</a></li>
<li class="page_item page-item-277"><a href="http://kurt.seifried.org/license-for-content-on-this-site/">License for content on this&nbsp;site</a></li>
<li class="page_item page-item-115"><a href="http://kurt.seifried.org/linux-cloud-software-and-projects/">Linux Cloud Software and&nbsp;Projects</a></li>
<li class="page_item page-item-96"><a href="http://kurt.seifried.org/professional-writing-samples/">Professional Writing Samples</a></li>
<li class="page_item page-item-102"><a href="http://kurt.seifried.org/python-programming/">Python Programming</a></li>
<li class="page_item page-item-254"><a href="http://kurt.seifried.org/ruby-ruby-on-rails-programming/">Ruby / Ruby on Rails&nbsp;Programming</a></li>
<li class="page_item page-item-247"><a href="http://kurt.seifried.org/worth-reading/">Worth Reading</a></li>
<li class="page_item page-item-176"><a href="http://kurt.seifried.org/worth-watching/">Worth Watching</a></li>
</ul>
</li>
<li id="categories-2" class="widget widget_categories"><h2 class="widgettitle">Categories</h2>
<ul>
<li class="cat-item cat-item-79"><a href="http://kurt.seifried.org/category/hardware/">Hardware</a>
</li>
<li class="cat-item cat-item-15230"><a href="http://kurt.seifried.org/category/information-security/" title="Information Security">Information Security</a>
</li>
<li class="cat-item cat-item-3374"><a href="http://kurt.seifried.org/category/kids/">kids</a>
</li>
<li class="cat-item cat-item-610"><a href="http://kurt.seifried.org/category/linux/">Linux</a>
</li>
<li class="cat-item cat-item-832"><a href="http://kurt.seifried.org/category/python/">Python</a>
</li>
<li class="cat-item cat-item-1"><a href="http://kurt.seifried.org/category/uncategorized/">Uncategorized</a>
</li>
</ul>
</li>
<li id="rss_links-3" class="widget widget_rss_links"><h2 class="widgettitle">RSS Feed</h2>
<ul><li><a href="http://kurt.seifried.org/feed/" title="Subscribe to Posts">RSS - Posts</a></li></ul>
</li>
<li id="meta" class="widget widget_kubrick_meta"> <h2 class="widgettitle">Meta</h2>
<ul>
<li><a href="https://wordpress.com/start?ref=wplogin">Register</a></li> <li><a href="https://kurtseifried.wordpress.com/wp-login.php">Log in</a></li>
<li><a href="http://validator.w3.org/check/referer" title="This page validates as XHTML 1.0 Transitional">Valid <abbr title="eXtensible HyperText Markup Language">XHTML</abbr></a></li>
<li><a href="http://gmpg.org/xfn/"><abbr title="XHTML Friends Network">XFN</abbr></a></li>
<li><a href="https://wordpress.com/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.com</a></li>
</ul>
</li>
</ul>
</div>
<hr/>
<div id="footer">
<p>
<a href="https://wordpress.com/?ref=footer_blog">Blog at WordPress.com.</a>
<br/><a href="http://kurt.seifried.org/feed/">Entries (RSS)</a> and <a href="http://kurt.seifried.org/comments/feed/">Comments (RSS)</a>. </p>
</div>
</div>
 
<div style="display:none">
</div>
<script type='text/javascript'>
/* <![CDATA[ */
var HighlanderComments = {"loggingInText":"Logging In\u2026","submittingText":"Posting Comment\u2026","postCommentText":"Post Comment","connectingToText":"Connecting to %s","commentingAsText":"%1$s: You are commenting using your %2$s account.","logoutText":"Log Out","loginText":"Log In","connectURL":"https:\/\/kurtseifried.wordpress.com\/public.api\/connect\/?action=request","logoutURL":"https:\/\/kurtseifried.wordpress.com\/wp-login.php?action=logout&_wpnonce=724fd47a24","homeURL":"http:\/\/kurt.seifried.org\/","postID":"265","gravDefault":"identicon","enterACommentError":"Please enter a comment","enterEmailError":"Please enter your email address here","invalidEmailError":"Invalid email address","enterAuthorError":"Please enter your name here","gravatarFromEmail":"This picture will show whenever you leave a comment. Click to customize it.","logInToExternalAccount":"Log in to use details from one of these accounts.","change":"Change","changeAccount":"Change Account","comment_registration":"1","userIsLoggedIn":"","isJetpack":"0","text_direction":"ltr"};
/* ]]> */
</script>
<script type='text/javascript' src='https://s2.wp.com/_static/??/wp-content/js/jquery/jquery.autoresize.js,/wp-content/mu-plugins/highlander-comments/script.js?m=1479964158j'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var actionbardata = {"siteID":"86342","siteName":"Kurt Seifried","siteURL":"http:\/\/kurt.seifried.org","icon":"<img alt='' src='https:\/\/s1.wp.com\/i\/void.gif' class='avatar avatar-36' height='36' width='36' \/>","canManageOptions":"","canCustomizeSite":"","isFollowing":"","themeSlug":"pub\/kubrick","signupURL":"https:\/\/wordpress.com\/start\/","loginURL":"https:\/\/kurtseifried.wordpress.com\/wp-login.php?redirect_to=http%3A%2F%2Fkurt.seifried.org%2F2013%2F03%2F01%2Fnew-techniques-in-spam-from-the-harvard-business-review-hbr%2F","themeURL":"","xhrURL":"http:\/\/kurt.seifried.org\/wp-admin\/admin-ajax.php","nonce":"c5d9519be6","isSingular":"","isFolded":"","isLoggedIn":"","isMobile":"","subscribeNonce":"<input type=\"hidden\" id=\"_wpnonce\" name=\"_wpnonce\" value=\"321560f319\" \/>","referer":"http:\/\/kurt.seifried.org\/page\/2\/","canFollow":"1","statusMessage":"","customizeLink":"https:\/\/kurtseifried.wordpress.com\/wp-admin\/customize.php?url=https%3A%2F%2Fkurtseifried.wordpress.com%2Fpage%2F2%2F","i18n":{"view":"View Site","follow":"Follow","following":"Following","edit":"Edit","login":"Log In","signup":"Sign Up","customize":"Customize","report":"Report this content","themeInfo":"Get theme: Kubrick","shortlink":"Copy shortlink","copied":"Copied","followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar","editFollows":"Manage Sites I Follow","editSubs":"Manage Subscriptions","viewReader":"View Site in the Reader","subscribe":"Sign me up","enterEmail":"Enter your email address","followers":"","alreadyUser":"Already have a WordPress.com account? <a href=\"https:\/\/kurtseifried.wordpress.com\/wp-login.php?redirect_to=http%3A%2F%2Fkurt.seifried.org%2F2013%2F03%2F01%2Fnew-techniques-in-spam-from-the-harvard-business-review-hbr%2F\">Log in now.<\/a>"}};
/* ]]> */
</script>
<script type='text/javascript' src='https://s1.wp.com/_static/??-eJx9jEEOwiAQRS8kjqamdWM8C8KkDsKAM1A9vnTTuOru5f+XB59iXOaKXCEoeFzIYfkegx7g70rNlNhmYoVIL1R4N2z4tOwjyo5sfSI2DyuQrFaUTiYvKEK+R7Ztr+AqZV4LG3X7nm7nyzQOw3WcTuEH0yxJEw=='></script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script> <script>
			var _comscore = _comscore || [];
			_comscore.push({
				c1: "2",
				c2: "7518284"
			});
			(function() {
				var s = document.createElement("script"),
					el = document.getElementsByTagName("script")[0];
				s.async = true;
				s.src = (document.location.protocol == "https:" ? "https://sb" : "http://b") + ".scorecardresearch.com/beacon.js";
				el.parentNode.insertBefore(s, el);
			})();
		</script>
<noscript>
<p class="robots-nocontent"><img src="http://b.scorecardresearch.com/p?c1=2&c2=7518284&c3=&c4=&c5=&c6=&c15=&cv=2.0&cj=1" alt="" style="display:none;" width="1" height="1"/></p>
</noscript><script src="//stats.wp.com/w.js?55" type="text/javascript" async defer></script>
<script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'86342','blog_tz':'-7','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'86342','v':'wpcom','tz':'-7','user_id':'0','subd':'kurtseifried'}]);
_stq.push(['extra', {'crypt':'UE40eW5QN0p8M2Y/RE1LVmwrVi5vQS5fVFtfdHBbPyw1VXIrU3hWLHhmcmw0bWUwNiVnR3N1V2dDZTM4MGFxVndRQl1HNkJtOEQ0dVBbbk9jP2g4T29lWFFNL1JxLTBRMVBJR09NTGdzXz04YlElWHd0VnZXLitYNDE1enBwZGJ8eDB0MkxQNXdWLzM2V3xDfHp1OGwvT3JMMH53czkmTzZiOG1XMUxwVU43XXJYJUYrS1NfY3UmS1Z1XWtEXUUtK11sNzh3WG9RMzRfUltMNVVfaVM9NThsa2VbOThzU35qJS9wMT9TNG11ak9oZCVIUTM3b1JqJXQ2a2RBcnJ5b1ZDakxmcjFTK2hTdFFHenpRdkM1cVBQaTksRUthdC5+OVlEWHIsVTFEaXN0b2pCTA=='}]);
_stq.push([ 'clickTrackerInit', '86342', '0' ]);
	</script>
<noscript><img src="http://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt=""/></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script><script type="text/javascript">/* <![CDATA[ */(function(d,s,a,i,j,r,l,m,t){try{l=d.getElementsByTagName('a');t=d.createElement('textarea');for(i=0;l.length-i;i++){try{a=l[i].href;s=a.indexOf('/cdn-cgi/l/email-protection');m=a.length;if(a&&s>-1&&m>28){j=28+s;s='';if(j<m){r='0x'+a.substr(j,2)|0;for(j+=2;j<m&&a.charAt(j)!='X';j+=2)s+='%'+('0'+('0x'+a.substr(j,2)^r).toString(16)).slice(-2);j++;s=decodeURIComponent(s)+a.substr(j,m-j)}t.innerHTML=s.replace(/</g,'&lt;').replace(/>/g,'&gt;');l[i].href='mailto:'+t.value}}catch(e){}}}catch(e){}})(document);/* ]]> */</script></body>
</html>
